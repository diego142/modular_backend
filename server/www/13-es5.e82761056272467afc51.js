!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{FEd2:function(n,r,o){"use strict";o.r(r),o.d(r,"EventsPageModule",(function(){return J}));var i=o("ofXK"),c=o("3Pt+"),a=o("TEn/"),s=o("tyNb"),u=o("mrSG"),b=o("2hxB"),l=o("J31/"),d=o("fXoL"),f=o("fTLw");function v(e,t){1&e&&(d.Kb(0,"ion-text",6),d.Kb(1,"div",13),d.ic(2," No hay eventos disponibles. "),d.Jb(),d.Jb())}function m(e,t){if(1&e){var n=d.Lb();d.Kb(0,"ion-footer"),d.Kb(1,"ion-row"),d.Kb(2,"ion-col",21),d.Kb(3,"ion-button",22),d.Sb("click",(function(){d.dc(n);var e=d.Ub().$implicit;return d.Ub().editEvent(e._id)})),d.Kb(4,"ion-label"),d.ic(5," EDITAR "),d.Jb(),d.Ib(6,"ion-icon",23),d.Jb(),d.Jb(),d.Kb(7,"ion-col",21),d.Kb(8,"ion-button",24),d.Sb("click",(function(){d.dc(n);var e=d.Ub().$implicit;return d.Ub().confirmClose(e._id)})),d.ic(9," CERRAR "),d.Ib(10,"ion-icon",25),d.Jb(),d.Jb(),d.Jb(),d.Jb()}}function p(e,t){if(1&e&&(d.Kb(0,"ion-card"),d.Kb(1,"ion-item",14),d.Kb(2,"ion-avatar",0),d.Ib(3,"img",15),d.Jb(),d.Kb(4,"ion-label"),d.Kb(5,"h3",16),d.Kb(6,"ion-text",17),d.ic(7),d.Jb(),d.Jb(),d.Kb(8,"p",18),d.Kb(9,"ion-text",17),d.ic(10),d.Vb(11,"date"),d.Jb(),d.Jb(),d.Jb(),d.Kb(12,"ion-label",19),d.Kb(13,"strong"),d.ic(14," Fin: "),d.Jb(),d.Kb(15,"ion-text"),d.ic(16),d.Vb(17,"date"),d.Jb(),d.Jb(),d.Jb(),d.Kb(18,"ion-card-header"),d.Kb(19,"ion-card-title"),d.ic(20),d.Jb(),d.Jb(),d.Kb(21,"ion-card-content"),d.ic(22),d.Jb(),d.gc(23,m,11,0,"ion-footer",20),d.Jb()),2&e){var n=t.$implicit,r=d.Ub();d.xb(7),d.kc(" ",n.user.name+" "+n.user.lastName," "),d.xb(3),d.kc(" ",d.Xb(11,6,n.dateStart,"MMM d, y","UTC")," "),d.xb(6),d.kc(" ",d.Xb(17,10,n.dateEnd,"MMM d, y","UTC")," "),d.xb(4),d.jc(n.title),d.xb(2),d.kc(" ",n.body," "),d.xb(1),d.ac("ngIf",n.user._id==r.user._id||1==r.user.permission)}}var g,h,x,y=[{path:"",component:(g=function(){function n(t,r,o,i,c){e(this,n),this.eventService=t,this.router=r,this.alertController=o,this.toastController=i,this.loadingController=c,this.user=new b.a,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}var r,o,i;return r=n,(o=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.user=l.a.getStorageUser(),this.getEvents()}},{key:"toast",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:1500});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"confirmClose",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:"\xa1CONFIRMAR!",message:"\xbfEsta seguro que desea cerrar este evento?",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Si",cssClass:"success",handler:function(){r.closeEvent(e)}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getEvents",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Porfavor espere..."});case 2:return t=e.sent,e.next=5,t.present();case 5:this.eventService.getEvents().subscribe((function(e){return Object(u.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.eventService.eventList=e.data,n.next=3,t.dismiss();case 3:case"end":return n.stop()}}),n,this)})))}),(function(e){return Object(u.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.toast("Problema al conectar la servidor."),e.next=3,t.dismiss();case 3:case"end":return e.stop()}}),e,this)})))}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"editEvent",value:function(e){this.router.navigate(["/event-form/"+e])}},{key:"closeEvent",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingController.create({message:"Porfavor espere..."});case 2:return n=t.sent,t.next=5,n.present();case 5:this.eventService.closeEvent(e).subscribe((function(t){return Object(u.a)(r,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.eventService.eventList.findIndex((function(t){return t._id===e})),this.eventService.eventList.splice(r,1),this.toast("El evento se ha cerrado."),t.next=5,n.dismiss();case 5:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(u.a)(r,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.toast("No se pudo cerrar el evento, revise su conexi\xf3n."),e.next=3,n.dismiss();case 3:case"end":return e.stop()}}),e,this)})))}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"mostrarOcultar",value:function(){"none"===document.getElementById("mostrarOcultar").style.display?document.getElementById("mostrarOcultar").style.display="block":"block"===document.getElementById("mostrarOcultar").style.display&&(document.getElementById("mostrarOcultar").style.display="none")}}])&&t(r.prototype,o),i&&t(r,i),n}(),g.\u0275fac=function(e){return new(e||g)(d.Hb(f.a),d.Hb(s.f),d.Hb(a.b),d.Hb(a.Z),d.Hb(a.U))},g.\u0275cmp=d.Bb({type:g,selectors:[["app-events"]],decls:23,vars:2,consts:[["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],[1,"leyenda"],[3,"click"],["color","medium"],["id","mostrarOcultar",2,"display","none"],["color","medium",4,"ngIf"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","success","routerLink","/event-form/0"],["name","add"],[1,"ion-text-center",2,"font-size","24px"],["color","headerColor"],["src","assets/icon/avatar.png"],[1,"user"],["color","myPrimaryText"],[1,"date"],["color","light","slot","end"],[4,"ngIf"],[1,"ion-text-center"],["color","myPrimary",3,"click"],["slot","end","name","create",1,"iconEdit"],["color","danger",1,"btnCerrar",3,"click"],["name","close-circle",1,"iconClose"]],template:function(e,t){1&e&&(d.Kb(0,"ion-header"),d.Kb(1,"ion-toolbar"),d.Kb(2,"ion-title"),d.ic(3,"Eventos"),d.Jb(),d.Kb(4,"ion-buttons",0),d.Ib(5,"ion-menu-button",1),d.Jb(),d.Kb(6,"ion-buttons",2),d.Ib(7,"ion-back-button",3),d.Jb(),d.Jb(),d.Jb(),d.Kb(8,"ion-content"),d.Kb(9,"ion-item",4),d.Kb(10,"p",5),d.Sb("click",(function(){return t.mostrarOcultar()})),d.Kb(11,"ion-text",6),d.ic(12," \xbfQu\xe9 es esto?"),d.Jb(),d.Jb(),d.Jb(),d.Kb(13,"div",7),d.Kb(14,"ion-card"),d.Kb(15,"ion-card-content"),d.ic(16," La secci\xf3n de eventos te permite ver los eventos pr\xf3ximos en la comunidad de Cucei as\xed como poder crear un evento propio para invitar a quien lo vea a participar en el. "),d.Jb(),d.Jb(),d.Jb(),d.Kb(17,"ion-list"),d.gc(18,v,3,0,"ion-text",8),d.gc(19,p,24,14,"ion-card",9),d.Jb(),d.Kb(20,"ion-fab",10),d.Kb(21,"ion-fab-button",11),d.Ib(22,"ion-icon",12),d.Jb(),d.Jb(),d.Jb()),2&e&&(d.xb(18),d.ac("ngIf",t.eventService.eventList.length<1),d.xb(1),d.ac("ngForOf",t.eventService.eventList))},directives:[a.w,a.R,a.Q,a.i,a.D,a.f,a.g,a.q,a.z,a.N,a.j,a.k,a.B,i.j,i.i,a.s,a.t,a.W,s.g,a.x,a.e,a.A,a.l,a.m,a.u,a.I,a.p,a.h],pipes:[i.d],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#607d8b;--color:#fff}.leyenda[_ngcontent-%COMP%]{--background:#f5f5f5}ion-card[_ngcontent-%COMP%]{--background:#fafafa}ion-item[_ngcontent-%COMP%]{--background:#f5f5f5;--color:#000}ion-card-title[_ngcontent-%COMP%]{--color:#607d8b}ion-card-content[_ngcontent-%COMP%], ion-card-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}ion-card-content[_ngcontent-%COMP%]{color:#000;font-size:15px}.iconClose[_ngcontent-%COMP%], .iconEdit[_ngcontent-%COMP%]{padding-left:4px;padding-bottom:2px}.btnEdit[_ngcontent-%COMP%]{width:110px}.btnClose[_ngcontent-%COMP%], .btnEdit[_ngcontent-%COMP%]{height:35px;font-family:Arial,Helvetica,sans-serif;color:#fff}.btnClose[_ngcontent-%COMP%]{width:105px}.user[_ngcontent-%COMP%]{color:#3880ff;font-size:18px}.date[_ngcontent-%COMP%], .user[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.date[_ngcontent-%COMP%]{color:#000;font-size:15px}"]}),g)}],C=((x=function t(){e(this,t)}).\u0275mod=d.Fb({type:x}),x.\u0275inj=d.Eb({factory:function(e){return new(e||x)},imports:[[s.i.forChild(y)],s.i]}),x),J=((h=function t(){e(this,t)}).\u0275mod=d.Fb({type:h}),h.\u0275inj=d.Eb({factory:function(e){return new(e||h)},imports:[[i.b,c.a,a.S,C]]}),h)}}])}();