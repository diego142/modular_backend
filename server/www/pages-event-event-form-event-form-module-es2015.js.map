{"version":3,"sources":["./src/app/pages/event/event-form/event-form.page.html","./src/app/models/event.ts","./src/app/pages/event/event-form/event-form-routing.module.ts","./src/app/pages/event/event-form/event-form.module.ts","./src/app/pages/event/event-form/event-form.page.scss","./src/app/pages/event/event-form/event-form.page.ts"],"names":[],"mappings":"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","file":"pages-event-event-form-event-form-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"headerColor\\\">\\r\\n    <ion-title>\\r\\n      <div class=\\\"ion-text-center\\\">Nuevo Evento </div>\\r\\n      <!-- <ion-icon name=\\\"newspaper\\\"></ion-icon> -->\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button menu=\\\"main-menu\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-back-button defaultHref=\\\"events\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-item class=\\\"mensaje\\\">\\r\\n    <div class=\\\"ion-text-center\\\" style=\\\"font-size: 24px;\\\">\\r\\n      <ion-text color=\\\"myPrimaryText\\\">\\r\\n        <h2>\\r\\n          Recuerda que todos los usuarios de la aplicacion podran ver lo eventos que publiques\\r\\n        </h2>\\r\\n      </ion-text>\\r\\n    </div>\\r\\n  </ion-item>\\r\\n\\r\\n  <form #formEvent=\\\"ngForm\\\">\\r\\n    <ion-list>\\r\\n\\r\\n      <ion-item *ngIf=\\\"event.dateStart; else elseDate\\\">\\r\\n        <ion-label>Fecha de inicio:</ion-label>\\r\\n        <ion-datetime  [(ngModel)]=\\\"event.dateStart\\\" name=\\\"dateStart\\\" displayFormat=\\\"MMMM DD, YYYY\\\" display-timezone=\\\"utc\\\" readonly></ion-datetime>\\r\\n      </ion-item>\\r\\n\\r\\n      <ng-template #elseDate>\\r\\n        <ion-item>\\r\\n          <ion-label>Fecha de inicio:</ion-label>\\r\\n          <ion-datetime  [value]=\\\"today\\\" name=\\\"dateStart\\\" displayFormat=\\\"MMMM DD, YYYY\\\" display-timezone=\\\"utc\\\" readonly></ion-datetime>\\r\\n        </ion-item>\\r\\n      </ng-template>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label color=\\\"tertiary\\\">Fecha de finalización:</ion-label>\\r\\n        <ion-datetime [(ngModel)]=\\\"event.dateEnd\\\" name=\\\"dateEnd\\\" displayFormat=\\\"MMMM DD, YYYY\\\" display-timezone=\\\"utc\\\" required></ion-datetime>\\r\\n      </ion-item>\\r\\n      \\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Titulo del evento:</ion-label>\\r\\n      <ion-input type=\\\"text\\\" name=\\\"title\\\" [(ngModel)]=\\\"event.title\\\" minlength=\\\"10\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n    \\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Información:</ion-label>\\r\\n      <ion-textarea name=\\\"body\\\" [(ngModel)]=\\\"event.body\\\" minlength=\\\"10\\\" required></ion-textarea>\\r\\n    </ion-item>\\r\\n    \\r\\n  </ion-list>\\r\\n</form>\\r\\n\\r\\n  <section>\\r\\n    <ion-button *ngIf=\\\"id == '0'; else elseOpt\\\" expand=\\\"full\\\"  \\r\\n    [disabled]=\\\"!formEvent.valid\\\" (click)=\\\"createEvent()\\\" color=\\\"myPrimaryDark\\\">\\r\\n      PUBLICAR \\r\\n    </ion-button>\\r\\n    <ng-template #elseOpt>\\r\\n      <ion-button expand=\\\"full\\\" (click)=\\\"updateEvent()\\\" color=\\\"myPrimaryDark\\\"> ACTUALIZAR </ion-button>\\r\\n    </ng-template>\\r\\n  </section>\\r\\n</ion-content>\";","import { User } from './user'\n\nexport class Event {\n    _id: string;\n    user = new User();\n    title: string;\n    body: string;\n    dateStart: Date;\n    dateEnd: Date;\n    open: boolean;\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventFormPage } from './event-form.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventFormPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventFormPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventFormPageRoutingModule } from './event-form-routing.module';\n\nimport { EventFormPage } from './event-form.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EventFormPageRoutingModule\n  ],\n  declarations: [EventFormPage]\n})\nexport class EventFormPageModule {}\n","export default \"ion-content {\\n  --background: white;\\n}\\n\\nion-title {\\n  --color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\nion-toolbar {\\n  --background: #00796B;\\n  --color: white;\\n}\\n\\nion-text {\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\n.mensaje {\\n  --background: #607D8B;\\n}\\n\\nion-item {\\n  --background: #f5f5f5;\\n  --color: black;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\nion-button {\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZXZlbnQvZXZlbnQtZm9ybS9ldmVudC1mb3JtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxjQUFBO0VBQ0EseUNBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EsY0FBQTtBQUNKOztBQUVBO0VBQ0kseUNBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtFQUNBLGNBQUE7RUFDQSx5Q0FBQTtBQUNKOztBQUVBO0VBQ0kseUNBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2V2ZW50L2V2ZW50LWZvcm0vZXZlbnQtZm9ybS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XHJcbiAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xyXG59XHJcblxyXG5pb24tdGl0bGUge1xyXG4gICAgLS1jb2xvcjogd2hpdGU7XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuaW9uLXRvb2xiYXIge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA3OTZCO1xyXG4gICAgLS1jb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbmlvbi10ZXh0IHtcclxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4ubWVuc2FqZSB7XHJcbiAgICAtLWJhY2tncm91bmQ6ICM2MDdEOEI7XHJcbn1cclxuXHJcbmlvbi1pdGVtIHtcclxuICAgIC0tYmFja2dyb3VuZDogI2Y1ZjVmNTtcclxuICAgIC0tY29sb3I6IGJsYWNrO1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmlvbi1idXR0b24ge1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Event } from 'src/app/models/event';\nimport { EventService } from 'src/app/services/event.service';\nimport { AlertController } from '@ionic/angular';\nimport { User } from 'src/app/models/user';\nimport { Util } from 'src/app/models/util';\n\n@Component({\n  selector: 'app-event-form',\n  templateUrl: './event-form.page.html',\n  styleUrls: ['./event-form.page.scss'],\n})\nexport class EventFormPage implements OnInit {\n\n  today = new Date().toISOString();\n  id: string;\n  event: Event = new Event();\n\n  constructor(private activatedRoute: ActivatedRoute, private eventService: EventService,\n    private router: Router, private alertController: AlertController) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.event.dateStart = new Date();\n    this.id = this.activatedRoute.snapshot.params.id;\n    this.getEvent(this.id);\n  }\n\n  async navigateAlert(head: string, subHead: string, btnTex: string, navigate: string) {\n    const alert = await this.alertController.create({\n      header: head,\n      subHeader: subHead,\n      buttons: [{\n        text: btnTex,\n        handler: () => {\n          this.router.navigate(['/' + navigate + '/']);\n        }\n      }]\n    });\n\n    await alert.present();\n  }\n\n  getEvent(id: string) {\n    if (id !== '0') {\n      this.eventService.getEventById(id).subscribe((res) => {\n        if (res.status) {\n          this.event = res.data;\n        } else {\n          this.navigateAlert('¡ERROR AL OBTENER!', 'Hubo un problema al intentar obtener la informacion de este evento', 'OK', 'events');\n        }\n      }, (err) => {\n        this.navigateAlert('ERROR DE SERVIDOR', err.message, 'OK', 'events');\n      });\n    } else {\n      this.event = new Event();\n    }\n  }\n\n  createEvent() {\n    this.event.dateStart = new Date();\n    this.event.user._id = Util.getStorageUser()._id;\n    this.event.open = true;\n\n    this.eventService.createEvent(this.event).subscribe((res) => {\n\n      if (res.status) {\n        this.navigateAlert('¡EVENTO CREADO!', 'Creaste un nuevo evento', 'OK', 'events');\n      } else {\n\n        this.navigateAlert('¡ERROR AL CREAR!', 'Hubo un problema al intentar crear el evento', 'OK', 'events');\n      }\n    }, (err) => {\n      this.navigateAlert('ERROR DE SERVIDOR', err.message, 'OK', 'events');\n    });\n  }\n\n  updateEvent() {\n    this.eventService.updateEvent(this.event).subscribe((res) => {\n      if (res.status) {\n        this.navigateAlert('¡EVENTO MODIFICADO!', 'Modificaste este evento', 'OK', 'events');\n      } else {\n        this.navigateAlert('¡ERROR AL MODIFICAR!', 'Hubo un problema al modificar este evento', 'OK', 'events');\n      }\n    }, (err) => {\n      this.navigateAlert('ERROR DE SERVIDOR', err.message, 'OK', 'events');\n    });\n\n  }\n}\n"],"sourceRoot":"webpack:///"}