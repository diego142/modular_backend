(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{d6NC:function(e,t,i){"use strict";i.r(t),i.d(t,"SkillFormPageModule",(function(){return g}));var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("mrSG"),c=i("FMb1"),l=i("HIyf"),b=i("4W+j"),d=i("fXoL"),u=i("EQut"),f=i("pYtu");function h(e,t){if(1&e){const e=d.Lb();d.Kb(0,"ion-item"),d.Kb(1,"ion-checkbox",7),d.Sb("ngModelChange",(function(i){return d.dc(e),t.$implicit.isCheck=i}))("ionChange",(function(){return d.dc(e),d.Ub().validateForm()})),d.Jb(),d.Kb(2,"ion-label"),d.ic(3),d.Jb(),d.Jb()}if(2&e){const e=t.$implicit;d.xb(1),d.ac("ngModel",e.isCheck),d.xb(2),d.jc(e.name)}}const p=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o){this.branchService=e,this.skillService=t,this.activatedRoute=i,this.alertController=n,this.router=o,this.branchList=new Array,this.checkList=new Array}ngOnInit(){}ionViewWillEnter(){this.userId=this.activatedRoute.snapshot.params.id,this.getBranches(),this.formValid=!1}navigateAlert(e,t,i,n){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:e,subHeader:t,buttons:[{text:i,handler:()=>{this.router.navigate(["/"+n+"/"])}}]});yield o.present()}))}getBranches(){this.branchService.getBranches().subscribe(e=>{e.status?(this.branchList=e.data,this.fillList()):this.navigateAlert("\xa1ERROR AL OBTENER INFORMACION","Hubo un problema al intentar obtener informacion del servidor","OK","profile")},e=>{this.navigateAlert("ERROR DE SERVIDOR",e.message,"OK","profile")})}fillList(){for(const e of this.branchList){const t=new l.a;t.id=e._id,t.name=e.name,t.isCheck=!1,this.checkList.push(t)}}createSkill(){const e=new b.a;e.user._id=this.userId;for(const t of this.checkList)if(t.isCheck){const i=new c.a;i._id=t.id,e.skills.push(i)}this.skillService.createSkill(e).subscribe(e=>{e.status?this.navigateAlert("\xa1REGISTRO EXITOSO!","Puedes editar tus datos en tu perfil","OK","profile"):this.navigateAlert("\xa1ERROR AL AGREGAR LOS SKILLS!","Hubo un problema al intentar crear este skill","OK","profile")},e=>{this.navigateAlert("ERROR DE SERVIDOR",e.message,"OK","profile")})}skip(){const e=new b.a;e.user._id=this.userId,this.skillService.createSkill(e).subscribe(e=>{e.status?this.navigateAlert("\xa1REGISTRO EXITOSO!","Puedes agregar tus habilidades mas tarde en tu perfil.","OK","profile"):this.navigateAlert("\xa1ERROR AL AGREGAR LOS SKILLS!","Hubo un problema al intentar crear este skill","OK","profile")},e=>{this.navigateAlert("ERROR DE SERVIDOR",e.message,"OK","profile")})}validateForm(){for(const e of this.checkList)if(e.isCheck)return void(this.formValid=!0);this.formValid=!1}}return e.\u0275fac=function(t){return new(t||e)(d.Hb(u.a),d.Hb(f.a),d.Hb(s.a),d.Hb(r.b),d.Hb(s.g))},e.\u0275cmp=d.Bb({type:e,selectors:[["app-skill-form"]],decls:20,vars:2,consts:[["lines","full"],["color","medium"],[1,"ion-text-center"],[4,"ngFor","ngForOf"],["expand","full","color","myPrimary",3,"disabled","click"],["expand","full","color","danger",3,"click"],["name","close-circle",2,"padding-left","2px"],["slot","start","color","success",3,"ngModel","ngModelChange","ionChange"]],template:function(e,t){1&e&&(d.Kb(0,"ion-header"),d.Kb(1,"ion-toolbar"),d.Kb(2,"ion-title"),d.ic(3,"Habilidades del alumno"),d.Jb(),d.Jb(),d.Jb(),d.Kb(4,"ion-content"),d.Kb(5,"ion-item",0),d.Kb(6,"ion-text",1),d.Kb(7,"div",2),d.ic(8," Por favor marca la(s) habilidad(es) que posees. Con esto podras apoyar a la comunidad de alumnos. "),d.Jb(),d.Jb(),d.Jb(),d.Kb(9,"ion-list"),d.gc(10,h,4,2,"ion-item",3),d.Jb(),d.Kb(11,"ion-grid"),d.Kb(12,"ion-row"),d.Kb(13,"ion-col"),d.Kb(14,"ion-button",4),d.Sb("click",(function(){return t.createSkill()})),d.ic(15,"Guardar"),d.Jb(),d.Jb(),d.Kb(16,"ion-col"),d.Kb(17,"ion-button",5),d.Sb("click",(function(){return t.skip()})),d.ic(18,"Omitir "),d.Ib(19,"ion-icon",6),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb()),2&e&&(d.xb(10),d.ac("ngForOf",t.checkList),d.xb(4),d.ac("disabled",!t.formValid))},directives:[r.w,r.R,r.Q,r.q,r.z,r.N,r.B,n.i,r.v,r.I,r.p,r.h,r.x,r.n,r.c,o.e,o.h,r.A],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#00796b;--color:#fff}ion-item[_ngcontent-%COMP%]{--background:#f5f5f5;--color:#000}ion-button[_ngcontent-%COMP%]{--color:#fff}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=d.Fb({type:e}),e.\u0275inj=d.Eb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(p)],s.j]}),e})(),g=(()=>{class e{}return e.\u0275mod=d.Fb({type:e}),e.\u0275inj=d.Eb({factory:function(t){return new(t||e)},imports:[[n.b,o.a,r.S,m]]}),e})()}}]);