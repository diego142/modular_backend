(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{xMJN:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginPageModule",(function(){return f}));var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),s=n("mrSG"),l=n("2hxB"),c=n("J31/"),b=n("fXoL"),u=n("qfBg"),d=n("pYtu");const g=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i){this.userService=e,this.router=t,this.toastController=n,this.alertController=o,this.skillService=i,this.user=new l.a}ngOnInit(){}errorLogin(e,t,n,o){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.alertController.create({header:e,subHeader:t,buttons:[{text:n,handler:()=>{this.router.navigate(["/"+o+"/"])}}]});yield i.present()}))}toast(e,t,n){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:e,message:t,color:"myPrimary",duration:n})).present()}))}getSkill(e){this.skillService.getSkill(e).subscribe(e=>{e.status&&c.a.setStorageSkill(e.data)},e=>{console.log(e)})}verifyUser(){this.userService.getUser(this.user.email).subscribe(e=>{null==e.data?(this.toast("Email no registrado!","Intenta de nuevo o crea una cuenta para poder entrar!",3e3),this.router.navigate(["/login"]),this.user.email="",this.user.password=""):e.data.password===this.user.password?(this.toast("Bienvenido al foro","",1e3),c.a.setStorageUser(e.data),this.getSkill(e.data._id),this.router.navigate(["/events"])):(this.toast("Contrase\xf1a incorrecta!","La contrase\xf1a que ingreso no coincide con el email",2e3),this.router.navigate(["/login"]),this.user.password="")},e=>{this.errorLogin("ERROR DE SERVIDOR",e.message,"OK","login")})}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(u.a),b.Hb(a.g),b.Hb(r.Y),b.Hb(r.b),b.Hb(d.a))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-login"]],decls:28,vars:3,consts:[[1,"logotipo"],["src","assets/icon/logoV2.png"],["formLogin","ngForm"],["position","floating"],["name","mail-outline"],["type","email","pattern","[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})","name","email","required","",3,"ngModel","ngModelChange"],["name","chevron-forward-circle-outline"],["type","password","name","password","required","",3,"ngModel","ngModelChange"],["expand","full",3,"disabled","click"],[1,"links"],["routerLink","/lost-password"],["routerLink","/new-account"]],template:function(e,t){if(1&e&&(b.Kb(0,"ion-header"),b.Kb(1,"ion-toolbar"),b.Kb(2,"ion-title"),b.ic(3,"Iniciar Sesi\xf3n"),b.Jb(),b.Jb(),b.Jb(),b.Kb(4,"ion-content"),b.Kb(5,"div",0),b.Ib(6,"img",1),b.Jb(),b.Kb(7,"form",null,2),b.Kb(9,"ion-item"),b.Kb(10,"ion-label",3),b.Ib(11,"ion-icon",4),b.ic(12," Correo electr\xf3nico "),b.Jb(),b.Kb(13,"ion-input",5),b.Sb("ngModelChange",(function(e){return t.user.email=e})),b.Jb(),b.Jb(),b.Kb(14,"ion-item"),b.Kb(15,"ion-label",3),b.Ib(16,"ion-icon",6),b.ic(17," Contrase\xf1a "),b.Jb(),b.Kb(18,"ion-input",7),b.Sb("ngModelChange",(function(e){return t.user.password=e})),b.Jb(),b.Jb(),b.Jb(),b.Kb(19,"ion-button",8),b.Sb("click",(function(){return t.verifyUser()})),b.ic(20,"Entrar"),b.Jb(),b.Kb(21,"div",9),b.Kb(22,"a",10),b.ic(23,"\xbfOlvidaste tu contrase\xf1a?"),b.Jb(),b.Ib(24,"br"),b.Ib(25,"br"),b.Kb(26,"a",11),b.ic(27,"Crear cuenta nueva"),b.Jb(),b.Jb(),b.Jb()),2&e){const e=b.cc(8);b.xb(13),b.ac("ngModel",t.user.email),b.xb(5),b.ac("ngModel",t.user.password),b.xb(1),b.ac("disabled",!e.valid)}},directives:[r.w,r.R,r.Q,r.q,i.k,i.f,i.g,r.z,r.A,r.x,r.y,r.X,i.i,i.j,i.e,i.h,r.h,a.i,r.V],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#00796b}ion-item[_ngcontent-%COMP%]{--background:#fafafa;--color:#000;--border-color:#000}ion-button[_ngcontent-%COMP%]{--background:#009688;font-family:Arial,Helvetica,sans-serif}.logotipo[_ngcontent-%COMP%]{display:block;margin:10px auto}.button[_ngcontent-%COMP%]{margin-top:30px;margin-left:60px;height:40px;width:70%}.links[_ngcontent-%COMP%]{text-align:center;margin-right:100px;margin-left:100px;padding-top:30px;font-family:Arial,Helvetica,sans-serif;font-size:large}"]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(g)],a.j]}),e})(),f=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[o.b,i.a,r.S,p]]}),e})()}}]);