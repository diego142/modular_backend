(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{HrqC:function(t,n,o){"use strict";o.r(n),o.d(n,"MyQuestionsPageModule",(function(){return h}));var e=o("ofXK"),i=o("3Pt+"),s=o("TEn/"),c=o("tyNb"),r=o("mrSG"),a=o("2hxB"),b=o("J31/"),u=o("fXoL"),l=o("UcdY");function d(t,n){if(1&t){const t=u.Lb();u.Kb(0,"ion-col",13),u.Kb(1,"ion-button",17),u.Sb("click",(function(){u.dc(t);const n=u.Ub().$implicit;return u.Ub().updateQuestion(n._id)})),u.ic(2," EDITAR "),u.Ib(3,"ion-icon",18),u.Jb(),u.Jb()}}function f(t,n){if(1&t){const t=u.Lb();u.Kb(0,"ion-col",13),u.Kb(1,"ion-button",19),u.Sb("click",(function(){u.dc(t);const n=u.Ub().$implicit;return u.Ub().confirmClose(n._id)})),u.ic(2," CERRAR "),u.Ib(3,"ion-icon",20),u.Jb(),u.Jb()}}function g(t,n){if(1&t){const t=u.Lb();u.Kb(0,"ion-card"),u.Kb(1,"ion-card-header",10),u.Kb(2,"ion-card-title"),u.Kb(3,"ion-text",11),u.Kb(4,"strong"),u.ic(5),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-card-content",12),u.ic(7),u.Jb(),u.Kb(8,"ion-footer"),u.Kb(9,"ion-row"),u.Kb(10,"ion-col",13),u.Kb(11,"ion-button",14),u.Sb("click",(function(){u.dc(t);const o=n.$implicit;return u.Ub().viewQuestion(o._id)})),u.ic(12," VER "),u.Ib(13,"ion-icon",15),u.Jb(),u.Jb(),u.gc(14,d,4,0,"ion-col",16),u.gc(15,f,4,0,"ion-col",16),u.Jb(),u.Jb(),u.Jb()}if(2&t){const t=n.$implicit;u.xb(5),u.kc(" ",t.title," "),u.xb(2),u.kc(" ",t.body," "),u.xb(7),u.ac("ngIf",t.open),u.xb(1),u.ac("ngIf",t.open)}}const m=[{path:"",component:(()=>{class t{constructor(t,n,o,e){this.questionService=t,this.router=n,this.alertController=o,this.toastController=e,this.user=new a.a,this.myQuestions=new Array}ngOnInit(){}ionViewWillEnter(){this.user=b.a.getStorageUser(),this.getQuestions()}toast(t){return Object(r.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:1500})).present()}))}getQuestions(){this.questionService.getQuestionByUserId(this.user._id).subscribe(t=>{this.myQuestions=t.data},t=>{console.log(t)})}viewQuestion(t){this.router.navigate(["/question-view/"+t])}newQuestion(){this.router.navigate(["/question-form/0"])}updateQuestion(t){this.router.navigate(["/question-form/"+t])}closeQuestion(t){this.questionService.closeQuestion(t).subscribe(t=>{const n=this.myQuestions.findIndex(n=>n._id===t.data._id);this.myQuestions[n].open=!1,this.toast("La pregunta se ha cerrado")},t=>{this.toast("No se pudo cerrar la pregunta, revise su conexi\xf3n")})}confirmClose(t){return Object(r.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({cssClass:"my-custom-class",header:"\xa1CONFIRMAR!",message:"\xbfEsta seguro que desea cerrar esta pregunta? Nadie mas podra contestarla.",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Si",cssClass:"success",handler:()=>{this.closeQuestion(t)}}]});yield n.present()}))}}return t.\u0275fac=function(n){return new(n||t)(u.Hb(l.a),u.Hb(c.g),u.Hb(s.b),u.Hb(s.Y))},t.\u0275cmp=u.Bb({type:t,selectors:[["app-my-questions"]],decls:21,vars:2,consts:[["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],["lines","full"],["color","success","expand","block","slot","end",3,"click"],["name","add-circle",2,"margin-left","8px","margin-bottom","2px"],["color","medium"],[1,"ion-text-center",2,"margin-top","4px"],[4,"ngFor","ngForOf"],["color","myPrimary",2,"margin-bottom","10px","padding","10px"],["color","myPrimaryText",2,"font-size","16px"],[2,"font-size","16px"],[1,"ion-text-center"],["color","tertiary",3,"click"],["name","eye",2,"padding-left","4px"],["class","ion-text-center",4,"ngIf"],["color","myPrimary",3,"click"],["name","create",2,"padding-left","4px"],["color","danger",3,"click"],["name","close-circle",2,"padding-left","2px"]],template:function(t,n){1&t&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar"),u.Kb(2,"ion-title"),u.ic(3,"Mis preguntas "),u.Jb(),u.Kb(4,"ion-buttons",0),u.Ib(5,"ion-menu-button",1),u.Jb(),u.Kb(6,"ion-buttons",2),u.Ib(7,"ion-back-button",3),u.Jb(),u.Jb(),u.Jb(),u.Kb(8,"ion-content"),u.Kb(9,"ion-item",4),u.Kb(10,"ion-button",5),u.Sb("click",(function(){return n.newQuestion()})),u.ic(11," Pregunta "),u.Ib(12,"ion-icon",6),u.Jb(),u.Kb(13,"ion-label"),u.Kb(14,"strong"),u.ic(15," Haz tu pregunta aqui. "),u.Jb(),u.Jb(),u.Jb(),u.Kb(16,"ion-text",7),u.Kb(17,"div",8),u.ic(18),u.Jb(),u.Jb(),u.Kb(19,"ion-list"),u.gc(20,g,16,4,"ion-card",9),u.Jb(),u.Jb()),2&t&&(u.xb(18),u.kc(" ",n.myQuestions.length<1?"Aun no has hecho ninguna pregunta":"Tus preguntas."," "),u.xb(2),u.ac("ngForOf",n.myQuestions))},directives:[s.w,s.R,s.Q,s.i,s.D,s.f,s.g,s.q,s.z,s.h,s.x,s.A,s.N,s.B,e.i,s.j,s.l,s.m,s.k,s.u,s.I,s.p,e.j],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#00796b;--color:#fff}ion-card-title[_ngcontent-%COMP%]{--color:#607d8b;font-family:Arial,Helvetica,sans-serif}ion-card-content[_ngcontent-%COMP%]{color:#000}ion-item[_ngcontent-%COMP%]{--background:#f5f5f5;--color:#000;font-family:Arial,Helvetica,sans-serif}ion-card[_ngcontent-%COMP%]{--background:#fafafa}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(n){return new(n||t)},imports:[[c.j.forChild(m)],c.j]}),t})(),h=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(n){return new(n||t)},imports:[[e.b,i.a,s.S,p]]}),t})()}}]);