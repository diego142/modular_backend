(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+jr9":function(t,i,e){"use strict";e.r(i),e.d(i,"SkillUpdatePageModule",(function(){return k}));var n=e("ofXK"),o=e("3Pt+"),s=e("TEn/"),r=e("tyNb"),a=e("mrSG"),l=e("FMb1"),c=e("HIyf"),b=e("4W+j"),h=e("J31/"),u=e("fXoL"),d=e("EQut"),f=e("pYtu");function m(t,i){if(1&t){const t=u.Lb();u.Kb(0,"ion-item"),u.Kb(1,"ion-checkbox",8),u.Sb("ngModelChange",(function(e){return u.dc(t),i.$implicit.isCheck=e}))("ionChange",(function(){return u.dc(t),u.Ub().validateForm()})),u.Jb(),u.Kb(2,"ion-label"),u.ic(3),u.Jb(),u.Jb()}if(2&t){const t=i.$implicit;u.xb(1),u.ac("ngModel",t.isCheck),u.xb(2),u.jc(t.name)}}const g=[{path:"",component:(()=>{class t{constructor(t,i,e,n,o){this.branchService=t,this.skillService=i,this.activatedRoute=e,this.alertController=n,this.router=o,this.branchList=new Array,this.checkList=new Array,this.userSkill=new b.a}ngOnInit(){}ionViewWillEnter(){this.userId=this.activatedRoute.snapshot.params.id,this.getBranches(),this.formValid=!1}navigateAlert(t,i,e,n){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:t,subHeader:i,buttons:[{text:e,handler:()=>{this.router.navigate(["/"+n+"/"])}}]});yield o.present()}))}updateSkill(){this.userSkill.skills=new Array;for(const t of this.checkList)if(t.isCheck){const i=new l.a;i._id=t.id,this.userSkill.skills.push(i)}this.skillService.updateSkill(this.userSkill).subscribe(t=>{t.status?(h.a.setStorageSkill(t.data),this.router.navigate(["/profile"])):this.navigateAlert("\xa1ERROR AL OBTENER INFORMACION","Hubo un problema al intentar obtener informacion del servidor","OK","profile")},t=>{this.navigateAlert("ERROR DE SERVIDOR",t.message,"OK","my-questions")})}getBranches(){this.branchService.getBranches().subscribe(t=>{t.status?(this.branchList=t.data,this.getSkill()):this.navigateAlert("\xa1ERROR AL OBTENER INFORMACION","Hubo un problema al intentar obtener informacion del servidor","OK","profile")},t=>{this.navigateAlert("ERROR DE SERVIDOR",t.message,"OK","my-questions")})}getSkill(){this.skillService.getSkill(this.userId).subscribe(t=>{t.status?(this.userSkill=t.data,this.fillList()):this.navigateAlert("\xa1ERROR AL OBTENER INFORMACION","Hubo un problema al intentar obtener informacion del servidor","OK","profile")},t=>{this.navigateAlert("ERROR DE SERVIDOR",t.message,"OK","my-questions")})}fillList(){for(const t of this.branchList){const i=new c.a;i.id=t._id,i.name=t.name,i.isCheck=!1,this.checkList.push(i)}for(const t of this.checkList)this.userSkill.skills.find(i=>t.name===i.name)&&(t.isCheck=!0)}validateForm(){for(const t of this.checkList)if(t.isCheck)return void(this.formValid=!0);this.formValid=!1}}return t.\u0275fac=function(i){return new(i||t)(u.Hb(d.a),u.Hb(f.a),u.Hb(r.a),u.Hb(s.b),u.Hb(r.f))},t.\u0275cmp=u.Bb({type:t,selectors:[["app-skill-update"]],decls:18,vars:2,consts:[["color","headerColor"],["slot","end"],["defaultHref","events"],["lines","full"],["color","myPrimaryTextColor",2,"font-size","large"],[1,"ion-text-center",2,"padding-top","5px"],[4,"ngFor","ngForOf"],["expand","full","color","headerColor",1,"btnActualizar",3,"disabled","click"],["slot","start","color","success",3,"ngModel","ngModelChange","ionChange"]],template:function(t,i){1&t&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar",0),u.Kb(2,"ion-title"),u.ic(3,"Actualizar habilidades"),u.Jb(),u.Kb(4,"ion-buttons",1),u.Ib(5,"ion-back-button",2),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content"),u.Kb(7,"ion-item",3),u.Kb(8,"ion-text",4),u.Kb(9,"div",5),u.ic(10," Por favor marca la(s) habilidad(es) que posees. Con esto podras apoyar a la comunidad de alumnos. "),u.Jb(),u.Jb(),u.Jb(),u.Kb(11,"ion-list"),u.gc(12,m,4,2,"ion-item",6),u.Jb(),u.Kb(13,"ion-grid"),u.Kb(14,"ion-row"),u.Kb(15,"ion-col"),u.Kb(16,"ion-button",7),u.Sb("click",(function(){return i.updateSkill()})),u.ic(17,"Actualizar "),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb()),2&t&&(u.xb(12),u.ac("ngForOf",i.checkList),u.xb(4),u.ac("disabled",!i.formValid))},directives:[s.w,s.R,s.Q,s.i,s.f,s.g,s.q,s.z,s.N,s.B,n.i,s.v,s.I,s.p,s.h,s.n,s.c,o.e,o.h,s.A],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff}ion-item[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}ion-item[_ngcontent-%COMP%]{--background:#f5f5f5;--color:#000;font-size:17px}.btnActualizar[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;--color:#fff}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(i){return new(i||t)},imports:[[r.i.forChild(g)],r.i]}),t})(),k=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(i){return new(i||t)},imports:[[n.b,o.a,s.S,p]]}),t})()}}]);