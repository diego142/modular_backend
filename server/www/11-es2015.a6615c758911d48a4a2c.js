(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{M0TU:function(e,t,n){"use strict";n.r(t),n.d(t,"BranchesPageModule",(function(){return m}));var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),c=n("mrSG"),a=n("2hxB"),b=n("J31/"),l=n("fXoL"),d=n("EQut");function h(e,t){if(1&e){const e=l.Lb();l.Kb(0,"ion-card"),l.Kb(1,"ion-card-header",10),l.Kb(2,"ion-card-title"),l.Kb(3,"ion-text",11),l.Kb(4,"strong"),l.ic(5),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(6,"ion-card-content",12),l.ic(7),l.Jb(),l.Kb(8,"ion-footer"),l.Kb(9,"ion-row"),l.Kb(10,"ion-col",13),l.Kb(11,"ion-button",14),l.Sb("click",(function(){l.dc(e);const n=t.$implicit;return l.Ub().editBranch(n._id)})),l.ic(12," EDITAR "),l.Ib(13,"ion-icon",15),l.Jb(),l.Jb(),l.Kb(14,"ion-col",13),l.Kb(15,"ion-button",16),l.Sb("click",(function(){l.dc(e);const n=t.$implicit;return l.Ub().confirmClose(n._id)})),l.ic(16," ELIMINAR "),l.Ib(17,"ion-icon",17),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=t.$implicit;l.xb(5),l.kc(" ",e.name," "),l.xb(2),l.kc(" ",e.description," ")}}const u=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.branchService=e,this.alertController=t,this.router=n,this.loadingController=o,this.user=new a.a,this.branchList=new Array}ngOnInit(){}ionViewWillEnter(){this.user=b.a.getStorageUser(),this.getBranches()}getBranches(){return Object(c.a)(this,void 0,void 0,(function*(){const e=yield this.loadingController.create({message:"Porfavor espere..."});yield e.present(),this.branchService.getBranches().subscribe(t=>Object(c.a)(this,void 0,void 0,(function*(){t.status&&(this.branchList=t.data),yield e.dismiss()})),t=>Object(c.a)(this,void 0,void 0,(function*(){console.log(t),yield e.dismiss()})))}))}getReloadBranches(e){this.branchService.getBranches().subscribe(t=>{t.status&&(this.branchList=t.data,e.target.complete())},t=>{console.log(t),e.target.complete()})}deleteBranch(e){this.branchService.deleteBranch(e).subscribe(e=>{if(e.status){const t=this.branchList.findIndex(t=>t._id===e.data._id);this.branchList.splice(t,1)}},e=>{console.log(e)})}editBranch(e){this.router.navigate(["/branch-form/"+e])}confirmClose(e){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"\xa1CONFIRMAR!",message:"\xbfEsta seguro que desea eliminar esta rama, ya no se podra recuperar.",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Si",cssClass:"success",handler:()=>{this.deleteBranch(e)}}]});yield t.present()}))}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(d.a),l.Hb(r.b),l.Hb(s.f),l.Hb(r.U))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-branches"]],decls:15,vars:1,consts:[["color","headerColor"],["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],["slot","fixed",3,"ionRefresh"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","success","routerLink","/branch-form/0"],["name","add"],["color","headerColor",2,"margin-bottom","10px","padding","10px"],[2,"font-size","16px"],["color","light",2,"font-size","16px"],[1,"ion-text-center"],["color","myPrimary",3,"click"],["name","create",2,"padding-left","4px"],["color","danger",3,"click"],["name","close-circle",2,"padding-left","2px"]],template:function(e,t){1&e&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-title"),l.ic(3,"Ramas (Admin) "),l.Jb(),l.Kb(4,"ion-buttons",1),l.Ib(5,"ion-menu-button",2),l.Jb(),l.Kb(6,"ion-buttons",3),l.Ib(7,"ion-back-button",4),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"ion-content"),l.Kb(9,"ion-refresher",5),l.Sb("ionRefresh",(function(e){return t.getReloadBranches(e)})),l.Ib(10,"ion-refresher-content"),l.Jb(),l.gc(11,h,18,2,"ion-card",6),l.Kb(12,"ion-fab",7),l.Kb(13,"ion-fab-button",8),l.Ib(14,"ion-icon",9),l.Jb(),l.Jb(),l.Jb()),2&e&&(l.xb(11),l.ac("ngForOf",t.branchList))},directives:[r.w,r.R,r.Q,r.i,r.D,r.f,r.g,r.q,r.F,r.G,o.i,r.s,r.t,r.W,s.g,r.x,r.j,r.l,r.m,r.N,r.k,r.u,r.I,r.p,r.h],styles:[""]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(u)],s.i]}),e})(),m=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[o.b,i.a,r.S,f]]}),e})()}}]);