(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{aCsV:function(e,n,t){"use strict";t.r(n),t.d(n,"NewAccountPageModule",(function(){return g}));var i=t("ofXK"),o=t("3Pt+"),r=t("TEn/"),a=t("tyNb"),s=t("mrSG"),c=t("2hxB"),l=t("fXoL"),b=t("qfBg");const u=[{path:"",component:(()=>{class e{constructor(e,n,t,i){this.userService=e,this.alertController=n,this.router=t,this.toastController=i,this.user=new c.a,this.bandera=!1}ngOnInit(){}failedAccount(e,n,t,i){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:e,subHeader:n,buttons:[{text:t,handler:()=>{this.router.navigate(["/"+i+"/"])}}]});yield o.present()}))}toast(e,n,t){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({header:e,message:n,color:"primary",duration:t})).present()}))}verifyPassword(e){this.user.password.length===e.length?this.user.password!==e?(this.bandera=!1,this.toast("Error,","Las contrase\xf1as no coinciden",2e3)):this.bandera=!0:this.bandera=!1}verifyNewUser(){this.userService.getUser(this.user.email).subscribe(e=>{null!==e.data?(this.toast("Error","La direcci\xf3n de correo electr\xf3nico que ingreso ya esta registrada. Intente de nuevo",4e3),this.user.email=" "):this.addUser()},e=>{this.failedAccount("ERROR DE SERVIDOR",e.message,"OK","new-account")})}addUser(){this.user.active=!0,this.user.age=0,this.user.permission=0,this.user.code=" ",this.user.career=" ",this.userService.postUser(this.user).subscribe(e=>Object(s.a)(this,void 0,void 0,(function*(){e.status?this.router.navigate(["/skill-form/"+e.data._id]):this.failedAccount("\xa1ERROR AL CREAR!","Hubo un problema al intentar crear este usuario","OK","login")})),e=>{this.failedAccount("ERROR DE SERVIDOR",e.message,"OK","new-account")})}}return e.\u0275fac=function(n){return new(n||e)(l.Hb(b.a),l.Hb(r.b),l.Hb(a.f),l.Hb(r.Y))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-new-account"]],decls:36,vars:5,consts:[[1,"logotipo"],["src","assets/icon/logoV2.png"],["formLogin","ngForm"],["position","floating"],["autofocus","","minlength","2","type","text","name","nombre","required","",3,"ngModel","ngModelChange"],["type","text","minlength","2","name","apellido","required","",3,"ngModel","ngModelChange"],["type","email","pattern","[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})","name","email","required","",3,"ngModel","ngModelChange"],["minlength","4","type","password","name","password","required","",3,"ngModel","ngModelChange"],["type","password","name","password2","required","",3,"keyup"],["expand","full","color","myPrimary",3,"disabled","click"],[1,"iniciar"],["routerLink","/login/"]],template:function(e,n){if(1&e&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar"),l.Kb(2,"ion-title"),l.ic(3,"Registrar"),l.Jb(),l.Jb(),l.Jb(),l.Kb(4,"ion-content"),l.Kb(5,"div",0),l.Ib(6,"img",1),l.Jb(),l.Kb(7,"form",null,2),l.Kb(9,"ion-item"),l.Kb(10,"ion-label",3),l.ic(11," Nombre: "),l.Jb(),l.Kb(12,"ion-input",4),l.Sb("ngModelChange",(function(e){return n.user.name=e})),l.Jb(),l.Jb(),l.Kb(13,"ion-item"),l.Kb(14,"ion-label",3),l.ic(15," Apellidos: "),l.Jb(),l.Kb(16,"ion-input",5),l.Sb("ngModelChange",(function(e){return n.user.lastName=e})),l.Jb(),l.Jb(),l.Kb(17,"ion-item"),l.Kb(18,"ion-label",3),l.ic(19," Correo electr\xf3nico: "),l.Jb(),l.Kb(20,"ion-input",6),l.Sb("ngModelChange",(function(e){return n.user.email=e})),l.Jb(),l.Jb(),l.Kb(21,"ion-item"),l.Kb(22,"ion-label",3),l.ic(23," Contrase\xf1a "),l.Jb(),l.Kb(24,"ion-input",7),l.Sb("ngModelChange",(function(e){return n.user.password=e})),l.Jb(),l.Jb(),l.Kb(25,"ion-item"),l.Kb(26,"ion-label",3),l.ic(27," Repita su contrase\xf1a "),l.Jb(),l.Kb(28,"ion-input",8),l.Sb("keyup",(function(e){return n.verifyPassword(e.target.value)})),l.Jb(),l.Jb(),l.Jb(),l.Kb(29,"ion-button",9),l.Sb("click",(function(){return n.verifyNewUser()})),l.ic(30,"Registrar"),l.Jb(),l.Kb(31,"div",10),l.Kb(32,"p"),l.ic(33,"\xbfYa tienes una cuenta?"),l.Jb(),l.Kb(34,"a",11),l.ic(35,"Inicia sesi\xf3n ahora"),l.Jb(),l.Jb(),l.Jb()),2&e){const e=l.cc(8);l.xb(12),l.ac("ngModel",n.user.name),l.xb(4),l.ac("ngModel",n.user.lastName),l.xb(4),l.ac("ngModel",n.user.email),l.xb(4),l.ac("ngModel",n.user.password),l.xb(5),l.ac("disabled",!(e.valid&&1==n.bandera))}},directives:[r.w,r.R,r.Q,r.q,o.k,o.f,o.g,r.z,r.A,r.y,r.X,o.b,o.j,o.e,o.h,o.i,r.h,a.h,r.V],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#00796b}ion-item[_ngcontent-%COMP%]{--background:#fafafa;--color:#000;--border-color:#000}ion-button[_ngcontent-%COMP%]{--background:#009688;font-family:Arial,Helvetica,sans-serif}.logotipo[_ngcontent-%COMP%]{display:block;margin:10px auto}.iniciar[_ngcontent-%COMP%]{text-align:center;text-justify:auto;font-family:Arial,Helvetica,sans-serif;color:#000;font-size:large}.button[_ngcontent-%COMP%]{margin-top:20px;margin-left:60px;height:40px;width:70%}"]}),e})()}];let d=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[a.i.forChild(u)],a.i]}),e})(),g=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(n){return new(n||e)},imports:[[i.b,o.a,r.S,d]]}),e})()}}]);