{"version":3,"sources":["webpack:///src/app/pages/skill/skill-update/skill-update.page.html","webpack:///src/app/pages/skill/skill-update/skill-update-routing.module.ts","webpack:///src/app/pages/skill/skill-update/skill-update.module.ts","webpack:///src/app/pages/skill/skill-update/skill-update.page.scss","webpack:///src/app/pages/skill/skill-update/skill-update.page.ts"],"names":["routes","path","component","SkillUpdatePageRoutingModule","imports","forChild","exports","SkillUpdatePageModule","declarations","SkillUpdatePage","branchService","skillService","activatedRoute","alertController","router","branchList","Array","checkList","userSkill","userId","snapshot","params","id","getBranches","formValid","head","subHead","btnTex","navigate","create","header","subHeader","buttons","text","handler","alert","present","skills","check","isCheck","branch","_id","push","updateSkill","subscribe","res","status","setStorageSkill","data","navigateAlert","err","message","getSkill","fillList","name","find","selector","template"],"mappings":"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","file":"pages-skill-skill-update-skill-update-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"headerColor\\\">\\r\\n    <ion-title>Actualizar habilidades</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-back-button defaultHref=\\\"events\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-item lines=\\\"full\\\">\\r\\n    <ion-text color=\\\"myPrimaryTextColor\\\" style=\\\"font-size: large;\\\">\\r\\n      <div class=\\\"ion-text-center\\\" style=\\\"padding-top: 5px;\\\">\\r\\n        Por favor marca la(s) habilidad(es) que posees. Con esto podras apoyar a la comunidad de alumnos.\\r\\n      </div>\\r\\n    </ion-text>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-list>\\r\\n    <ion-item *ngFor=\\\"let check of checkList\\\">\\r\\n      <ion-checkbox slot=\\\"start\\\" color=\\\"success\\\" [(ngModel)]=\\\"check.isCheck\\\" (ionChange)=\\\"validateForm()\\\">\\r\\n      </ion-checkbox>\\r\\n      <ion-label>{{ check.name }}</ion-label>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-button expand=\\\"full\\\" class=\\\"btnActualizar\\\" color=\\\"headerColor\\\" (click)=\\\"updateSkill()\\\" [disabled]=\\\"!formValid\\\">Actualizar\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SkillUpdatePage } from './skill-update.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SkillUpdatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SkillUpdatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SkillUpdatePageRoutingModule } from './skill-update-routing.module';\n\nimport { SkillUpdatePage } from './skill-update.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SkillUpdatePageRoutingModule\n  ],\n  declarations: [SkillUpdatePage]\n})\nexport class SkillUpdatePageModule {}\n","export default \"ion-content {\\n  --background: white;\\n}\\n\\nion-title {\\n  --color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\nion-item {\\n  --background: #f5f5f5;\\n  --color: black;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 17px;\\n}\\n\\n.btnActualizar {\\n  font-family: Arial, Helvetica, sans-serif;\\n  --color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2tpbGwvc2tpbGwtdXBkYXRlL3NraWxsLXVwZGF0ZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtFQUNBLHlDQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtFQUNBLGNBQUE7RUFDQSx5Q0FBQTtFQUNBLGVBQUE7QUFDSjs7QUFFQTtFQUNJLHlDQUFBO0VBQ0EsY0FBQTtBQUNKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc2tpbGwvc2tpbGwtdXBkYXRlL3NraWxsLXVwZGF0ZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XHJcbiAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xyXG59XHJcblxyXG5pb24tdGl0bGUge1xyXG4gICAgLS1jb2xvcjogd2hpdGU7XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuaW9uLWl0ZW0ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZjVmNWY1O1xyXG4gICAgLS1jb2xvcjogYmxhY2s7XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogMTdweDtcclxufVxyXG5cclxuLmJ0bkFjdHVhbGl6YXIge1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbiAgICAtLWNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Branch } from 'src/app/models/branch';\nimport { Check } from 'src/app/models/check';\nimport { BranchService } from 'src/app/services/branch.service';\nimport { SkillsService } from 'src/app/services/skills.service';\nimport { AlertController } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Skill } from 'src/app/models/skill';\nimport { Util } from 'src/app/models/util';\n\n@Component({\n  selector: 'app-skill-update',\n  templateUrl: './skill-update.page.html',\n  styleUrls: ['./skill-update.page.scss'],\n})\nexport class SkillUpdatePage implements OnInit {\n\n  branchList: Branch[] = new Array<Branch>();\n  checkList: Check[] = new Array<Check>();\n  userId: string;\n  userSkill = new Skill();\n  formValid: boolean;\n\n  constructor(private branchService: BranchService, private skillService: SkillsService,\n    private activatedRoute: ActivatedRoute, private alertController: AlertController,\n    private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.userId = this.activatedRoute.snapshot.params.id;\n    this.getBranches();\n    this.formValid = false;\n  }\n\n  async navigateAlert(head: string, subHead: string, btnTex: string, navigate: string) {\n    const alert = await this.alertController.create({\n      header: head,\n      subHeader: subHead,\n      buttons: [{\n        text: btnTex,\n        handler: () => {\n          this.router.navigate(['/' + navigate + '/']);\n        }\n      }]\n    });\n\n    await alert.present();\n  }\n\n  updateSkill() {\n    this.userSkill.skills = new Array<Branch>();\n\n    for (const check of this.checkList) {\n      if (check.isCheck) {\n        const branch = new Branch();\n        branch._id = check.id;\n        this.userSkill.skills.push(branch);\n      }\n    }\n\n    this.skillService.updateSkill(this.userSkill).subscribe((res) => {\n      if (res.status) {\n        Util.setStorageSkill(res.data);\n        this.router.navigate(['/profile']);\n      } else {\n        this.navigateAlert('¡ERROR AL OBTENER INFORMACION', 'Hubo un problema al intentar obtener informacion del servidor', 'OK'\n          , 'profile');\n      }\n    }, (err) => {\n      this.navigateAlert('ERROR DE SERVIDOR', err.message, 'OK', 'my-questions');\n    });\n  }\n\n  getBranches() {\n    this.branchService.getBranches().subscribe((res) => {\n      if (res.status) {\n        this.branchList = res.data;\n        this.getSkill();\n      } else {\n        this.navigateAlert('¡ERROR AL OBTENER INFORMACION', 'Hubo un problema al intentar obtener informacion del servidor', 'OK'\n          , 'profile');\n      }\n    }, (err) => {\n      this.navigateAlert('ERROR DE SERVIDOR', err.message, 'OK', 'my-questions');\n    });\n  }\n\n  getSkill() {\n    this.skillService.getSkill(this.userId).subscribe((res) => {\n      if (res.status) {\n        this.userSkill = res.data;\n        this.fillList();\n      } else {\n        this.navigateAlert('¡ERROR AL OBTENER INFORMACION', 'Hubo un problema al intentar obtener informacion del servidor', 'OK'\n          , 'profile');\n      }\n    }, (err) => {\n      this.navigateAlert('ERROR DE SERVIDOR', err.message, 'OK', 'my-questions');\n    });\n  }\n\n  fillList() {\n    for (const branch of this.branchList) {\n      const check = new Check();\n      check.id = branch._id;\n      check.name = branch.name;\n      check.isCheck = false;\n\n      this.checkList.push(check);\n    }\n\n    for (const check of this.checkList) {\n      if (this.userSkill.skills.find(branch => check.name === branch.name)) {\n        check.isCheck = true;\n      }\n    }\n  }\n\n  validateForm() {\n    for (const check of this.checkList) {\n      if (check.isCheck) {\n        this.formValid = true;\n        return;\n      }\n    }\n    this.formValid = false;\n  }\n\n}\n"]}