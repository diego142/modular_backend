(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{FEd2:function(t,e,n){"use strict";n.r(e),n.d(e,"EventsPageModule",(function(){return p}));var o=n("ofXK"),i=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),s=n("mrSG"),a=n("2hxB"),b=n("J31/"),l=n("fXoL"),d=n("fTLw");function u(t,e){1&t&&(l.Kb(0,"ion-text",6),l.Kb(1,"div",13),l.ic(2," No hay eventos disponibles. "),l.Jb(),l.Jb())}function f(t,e){if(1&t){const t=l.Lb();l.Kb(0,"ion-footer"),l.Kb(1,"ion-row"),l.Kb(2,"ion-col",21),l.Kb(3,"ion-button",22),l.Sb("click",(function(){l.dc(t);const e=l.Ub().$implicit;return l.Ub().editEvent(e._id)})),l.Kb(4,"ion-label"),l.ic(5," EDITAR "),l.Jb(),l.Ib(6,"ion-icon",23),l.Jb(),l.Jb(),l.Kb(7,"ion-col",21),l.Kb(8,"ion-button",24),l.Sb("click",(function(){l.dc(t);const e=l.Ub().$implicit;return l.Ub().confirmClose(e._id)})),l.ic(9," CERRAR "),l.Ib(10,"ion-icon",25),l.Jb(),l.Jb(),l.Jb(),l.Jb()}}function m(t,e){if(1&t&&(l.Kb(0,"ion-card"),l.Kb(1,"ion-item",14),l.Kb(2,"ion-avatar",0),l.Ib(3,"img",15),l.Jb(),l.Kb(4,"ion-label"),l.Kb(5,"h3",16),l.Kb(6,"ion-text",17),l.ic(7),l.Jb(),l.Jb(),l.Kb(8,"p",18),l.Kb(9,"ion-text",17),l.ic(10),l.Vb(11,"date"),l.Jb(),l.Jb(),l.Jb(),l.Kb(12,"ion-label",19),l.Kb(13,"strong"),l.ic(14," Fin: "),l.Jb(),l.Kb(15,"ion-text"),l.ic(16),l.Vb(17,"date"),l.Jb(),l.Jb(),l.Jb(),l.Kb(18,"ion-card-header"),l.Kb(19,"ion-card-title"),l.ic(20),l.Jb(),l.Jb(),l.Kb(21,"ion-card-content"),l.ic(22),l.Jb(),l.gc(23,f,11,0,"ion-footer",20),l.Jb()),2&t){const t=e.$implicit,n=l.Ub();l.xb(7),l.kc(" ",t.user.name+" "+t.user.lastName," "),l.xb(3),l.kc(" ",l.Xb(11,6,t.dateStart,"MMM d, y","UTC")," "),l.xb(6),l.kc(" ",l.Xb(17,10,t.dateEnd,"MMM d, y","UTC")," "),l.xb(4),l.jc(t.title),l.xb(2),l.kc(" ",t.body," "),l.xb(1),l.ac("ngIf",t.user._id==n.user._id||1==n.user.permission)}}const v=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.eventService=t,this.router=e,this.alertController=n,this.toastController=o,this.user=new a.a,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){}ionViewWillEnter(){this.user=b.a.getStorageUser(),this.getEvents()}toast(t){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:1500})).present()}))}confirmClose(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"\xa1CONFIRMAR!",message:"\xbfEsta seguro que desea cerrar este evento?",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Si",cssClass:"success",handler:()=>{this.closeEvent(t)}}]});yield e.present()}))}getEvents(){this.eventService.getEvents().subscribe(t=>{this.eventService.eventList=t.data},t=>{this.toast("Problema al conectar la servidor.")})}editEvent(t){this.router.navigate(["/event-form/"+t])}closeEvent(t){this.eventService.closeEvent(t).subscribe(e=>{const n=this.eventService.eventList.findIndex(e=>e._id===t);this.eventService.eventList.splice(n,1),this.toast("El evento se ha cerrado.")},t=>Object(s.a)(this,void 0,void 0,(function*(){this.toast("No se pudo cerrar el evento, revise su conexi\xf3n.")})))}mostrarOcultar(){"none"===document.getElementById("mostrarOcultar").style.display?document.getElementById("mostrarOcultar").style.display="block":"block"===document.getElementById("mostrarOcultar").style.display&&(document.getElementById("mostrarOcultar").style.display="none")}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(d.a),l.Hb(r.f),l.Hb(c.b),l.Hb(c.Y))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-events"]],decls:23,vars:2,consts:[["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],[1,"leyenda"],[3,"click"],["color","medium"],["id","mostrarOcultar",2,"display","none"],["color","medium",4,"ngIf"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","success","routerLink","/event-form/0"],["name","add"],[1,"ion-text-center",2,"font-size","24px"],["color","headerColor"],["src","assets/icon/avatar.png"],[1,"user"],["color","myPrimaryText"],[1,"date"],["color","light","slot","end"],[4,"ngIf"],[1,"ion-text-center"],["color","myPrimary",3,"click"],["slot","end","name","create",1,"iconEdit"],["color","danger",1,"btnCerrar",3,"click"],["name","close-circle",1,"iconClose"]],template:function(t,e){1&t&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar"),l.Kb(2,"ion-title"),l.ic(3,"Eventos"),l.Jb(),l.Kb(4,"ion-buttons",0),l.Ib(5,"ion-menu-button",1),l.Jb(),l.Kb(6,"ion-buttons",2),l.Ib(7,"ion-back-button",3),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"ion-content"),l.Kb(9,"ion-item",4),l.Kb(10,"p",5),l.Sb("click",(function(){return e.mostrarOcultar()})),l.Kb(11,"ion-text",6),l.ic(12," \xbfQu\xe9 es esto?"),l.Jb(),l.Jb(),l.Jb(),l.Kb(13,"div",7),l.Kb(14,"ion-card"),l.Kb(15,"ion-card-content"),l.ic(16," La secci\xf3n de eventos te permite ver los eventos pr\xf3ximos en la comunidad de Cucei as\xed como poder crear un evento propio para invitar a quien lo vea a participar en el. "),l.Jb(),l.Jb(),l.Jb(),l.Kb(17,"ion-list"),l.gc(18,u,3,0,"ion-text",8),l.gc(19,m,24,14,"ion-card",9),l.Jb(),l.Kb(20,"ion-fab",10),l.Kb(21,"ion-fab-button",11),l.Ib(22,"ion-icon",12),l.Jb(),l.Jb(),l.Jb()),2&t&&(l.xb(18),l.ac("ngIf",e.eventService.eventList.length<1),l.xb(1),l.ac("ngForOf",e.eventService.eventList))},directives:[c.w,c.R,c.Q,c.i,c.D,c.f,c.g,c.q,c.z,c.N,c.j,c.k,c.B,o.j,o.i,c.s,c.t,c.V,r.g,c.x,c.e,c.A,c.l,c.m,c.u,c.I,c.p,c.h],pipes:[o.d],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#607d8b;--color:#fff}.leyenda[_ngcontent-%COMP%]{--background:#f5f5f5}ion-card[_ngcontent-%COMP%]{--background:#fafafa}ion-item[_ngcontent-%COMP%]{--background:#f5f5f5;--color:#000}ion-card-title[_ngcontent-%COMP%]{--color:#607d8b}ion-card-content[_ngcontent-%COMP%], ion-card-title[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}ion-card-content[_ngcontent-%COMP%]{color:#000;font-size:15px}.iconClose[_ngcontent-%COMP%], .iconEdit[_ngcontent-%COMP%]{padding-left:4px;padding-bottom:2px}.btnEdit[_ngcontent-%COMP%]{width:110px}.btnClose[_ngcontent-%COMP%], .btnEdit[_ngcontent-%COMP%]{height:35px;font-family:Arial,Helvetica,sans-serif;color:#fff}.btnClose[_ngcontent-%COMP%]{width:105px}.user[_ngcontent-%COMP%]{color:#3880ff;font-size:18px}.date[_ngcontent-%COMP%], .user[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}.date[_ngcontent-%COMP%]{color:#000;font-size:15px}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(v)],r.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[o.b,i.a,c.S,g]]}),t})()}}]);