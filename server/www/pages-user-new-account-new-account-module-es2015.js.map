{"version":3,"sources":["./src/app/pages/user/new-account/new-account.page.html","./src/app/pages/user/new-account/new-account-routing.module.ts","./src/app/pages/user/new-account/new-account.module.ts","./src/app/pages/user/new-account/new-account.page.scss","./src/app/pages/user/new-account/new-account.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,u6BAAw2B,GAAG,UAAU,GAAG,KAAK,EAAE,SAAS,GAAG,KAAK,EAAE,SAAS,GAAG,IAAI,EAAE,SAAS,GAAG,w4BAAw4B,E;;;;;;;;;;;;;;;;;;;ACA9xD;AACc;AAEH;AAEpD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,gEAAc;KAC1B;CACF,CAAC;IAMW,2BAA2B,SAA3B,2BAA2B;CAAG;AAA9B,2BAA2B;IAJvC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBC;AACM;AACF;AAEA;AAE8B;AAEvB;IAWvC,oBAAoB,SAApB,oBAAoB;CAAG;AAAvB,oBAAoB;IAThC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,uFAA2B;SAC5B;QACD,YAAY,EAAE,CAAC,gEAAc,CAAC;KAC/B,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;;ACnBjC;AAAe,6EAAc,wBAAwB,GAAG,eAAe,mBAAmB,8CAA8C,GAAG,iBAAiB,0BAA0B,GAAG,cAAc,0BAA0B,mBAAmB,0BAA0B,GAAG,gBAAgB,0BAA0B,8CAA8C,GAAG,eAAe,mBAAmB,sBAAsB,uBAAuB,qBAAqB,wBAAwB,GAAG,cAAc,uBAAuB,uBAAuB,8CAA8C,iBAAiB,qBAAqB,GAAG,aAAa,qBAAqB,sBAAsB,iBAAiB,eAAe,GAAG,6CAA6C,mzDAAmzD,E;;;;;;;;;;;;;;;;;;;;;ACAh/E;AAC9B;AACiB;AACX;AACR;AACQ;IAOpC,cAAc,SAAd,cAAc;IAKzB,YAAoB,WAAwB,EAAS,eAAgC,EAC3E,MAAc,EAAS,eAAgC;QAD7C,gBAAW,GAAX,WAAW,CAAa;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAC3E,WAAM,GAAN,MAAM,CAAQ;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAJjE,SAAI,GAAG,IAAI,wDAAI,EAAE,CAAC;QAClB,YAAO,GAAG,KAAK,CAAC;IAGqD,CAAC;IAEtE,QAAQ;IACR,CAAC;IAEK,aAAa,CAAC,IAAY,EAAE,OAAe,EAAE,MAAc,EAAE,QAAgB;;YACjF,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,IAAI;gBACZ,SAAS,EAAE,OAAO;gBAClB,OAAO,EAAE,CAAC;wBACR,IAAI,EAAE,MAAM;wBACZ,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC;wBAC/C,CAAC;qBACF,CAAC;aACH,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,KAAK,CAAC,IAAY,EAAE,GAAW,EAAE,IAAY;;YACjD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,GAAG;gBACZ,KAAK,EAAE,SAAS;gBAChB,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAED,cAAc,CAAC,QAAQ;QACrB,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC1C,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC;QAEhC,IAAI,OAAO,KAAK,OAAO,EAAE;YACvB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,EAAE;gBACnC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,8BAA8B,EAAE,IAAI,CAAC,CAAC;aAC5D;iBACI;gBACH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACrB;SACF;aACI;YACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;IACH,CAAC;IAED,aAAa;QACX,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YAC1D,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,EAAE;gBACrB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,qFAAqF,EAAE,IAAI,CAAC,CAAC;gBACjH,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;aACvB;iBACI;gBACH,IAAI,CAAC,OAAO,EAAE,CAAC;aAChB;QACH,CAAC,EACC,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC;QAC5E,CAAC,CACF,CAAC;IACJ,CAAC;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAEvB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAO,GAAG,EAAE,EAAE,CAAC;YAC5D,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,cAAc,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;aACvD;iBAAM;gBACL,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,iDAAiD,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aAC1G;QACH,CAAC,GAAE,CAAC,GAAG,EAAE,EAAE;YACT,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,aAAa,CAAC,CAAC;QAC5E,CAAC,CAAC,CAAC;IACL,CAAC;CAEF;;YAlGQ,yEAAW;YACX,8DAAe;YACf,sDAAM;YACN,8DAAe;;AAOX,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,8OAAsC;;KAEvC,CAAC;GACW,cAAc,CAwF1B;AAxF0B","file":"pages-user-new-account-new-account-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Registrar</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div class=\\\"logotipo\\\">\\r\\n    <img src=\\\"assets/icon/logoV2.png\\\">\\r\\n  </div>\\r\\n\\r\\n  <form #formLogin=\\\"ngForm\\\">\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Nombre: </ion-label>\\r\\n      <ion-input autofocus minlength=\\\"2\\\" [(ngModel)]=\\\"user.name\\\" type=\\\"text\\\" name=\\\"nombre\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Apellidos: </ion-label>\\r\\n      <ion-input type=\\\"text\\\" minlength=\\\"2\\\" [(ngModel)]=\\\"user.lastName\\\" name=\\\"apellido\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Correo electrónico: </ion-label>\\r\\n      <ion-input type=\\\"email\\\" pattern=\\\"[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})\\\" [(ngModel)]=\\\"user.email\\\" name=\\\"email\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Contraseña </ion-label>\\r\\n      <ion-input minlength=\\\"4\\\" type=\\\"password\\\" [(ngModel)]=\\\"user.password\\\" name=\\\"password\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Repita su contraseña </ion-label>\\r\\n      <ion-input type=\\\"password\\\" name=\\\"password2\\\" (keyup)=\\\"verifyPassword($event.target.value)\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n  </form>\\r\\n\\r\\n  <ion-button expand=\\\"full\\\" color=\\\"myPrimary\\\" (click)=\\\"verifyNewUser()\\\" [disabled]=\\\"!(formLogin.valid && (bandera==true))\\\" >Registrar</ion-button>\\r\\n\\r\\n  <div class=\\\"iniciar\\\">\\r\\n    <p>¿Ya tienes una cuenta?</p>\\r\\n    <a routerLink=\\\"/login/\\\">Inicia sesión ahora</a>\\r\\n  </div>\\r\\n\\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NewAccountPage } from './new-account.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewAccountPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NewAccountPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NewAccountPageRoutingModule } from './new-account-routing.module';\r\n\r\nimport { NewAccountPage } from './new-account.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    NewAccountPageRoutingModule\r\n  ],\r\n  declarations: [NewAccountPage]\r\n})\r\nexport class NewAccountPageModule {}\r\n","export default \"ion-content {\\n  --background: white;\\n}\\n\\nion-title {\\n  --color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\nion-toolbar {\\n  --background: #00796B;\\n}\\n\\nion-item {\\n  --background: #fafafa;\\n  --color: black;\\n  --border-color: black;\\n}\\n\\nion-button {\\n  --background: #009688;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\n.logotipo {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n}\\n\\n.iniciar {\\n  text-align: center;\\n  text-justify: auto;\\n  font-family: Arial, Helvetica, sans-serif;\\n  color: black;\\n  font-size: large;\\n}\\n\\n.button {\\n  margin-top: 20px;\\n  margin-left: 60px;\\n  height: 40px;\\n  width: 70%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdXNlci9uZXctYWNjb3VudC9uZXctYWNjb3VudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtFQUNBLHlDQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7RUFDQSxjQUFBO0VBQ0EscUJBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EseUNBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtFQUNBLHlDQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzZXIvbmV3LWFjY291bnQvbmV3LWFjY291bnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuaW9uLXRpdGxlIHtcclxuICAgIC0tY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmlvbi10b29sYmFyIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzAwNzk2QjtcclxufVxyXG5cclxuaW9uLWl0ZW0ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZmFmYWZhO1xyXG4gICAgLS1jb2xvcjogYmxhY2s7XHJcbiAgICAtLWJvcmRlci1jb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbmlvbi1idXR0b24ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA5Njg4O1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5sb2dvdGlwb3tcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLmluaWNpYXJ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB0ZXh0LWp1c3RpZnk6IGF1dG87XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbn1cclxuXHJcbi5idXR0b257XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDYwcHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICB3aWR0aDogNzAlO1xyXG59XHJcbiJdfQ== */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { User } from 'src/app/models/user';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-new-account',\r\n  templateUrl: './new-account.page.html',\r\n  styleUrls: ['./new-account.page.scss'],\r\n})\r\nexport class NewAccountPage implements OnInit {\r\n\r\n  user = new User();\r\n  bandera = false;\r\n\r\n  constructor(private userService: UserService, public alertController: AlertController,\r\n    private router: Router, public toastController: ToastController) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async failedAccount(head: string, subHead: string, btnTex: string, navigate: string) {\r\n    const alert = await this.alertController.create({\r\n      header: head,\r\n      subHeader: subHead,\r\n      buttons: [{\r\n        text: btnTex,\r\n        handler: () => {\r\n          this.router.navigate(['/' + navigate + '/']);\r\n        }\r\n      }]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async toast(head: string, msg: string, time: number) {\r\n    const toast = await this.toastController.create({\r\n      header: head,\r\n      message: msg,\r\n      color: 'primary',\r\n      duration: time,\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  verifyPassword(password) {\r\n    const lenght1 = this.user.password.length;\r\n    const lenght2 = password.length;\r\n\r\n    if (lenght1 === lenght2) {\r\n      if (this.user.password !== password) {\r\n        this.bandera = false;\r\n        this.toast('Error,', 'Las contraseñas no coinciden', 2000);\r\n      }\r\n      else {\r\n        this.bandera = true;\r\n      }\r\n    }\r\n    else {\r\n      this.bandera = false;\r\n    }\r\n  }\r\n\r\n  verifyNewUser() {\r\n    this.userService.getUser(this.user.email).subscribe((res) => {\r\n      if (res.data !== null) {\r\n        this.toast('Error', 'La dirección de correo electrónico que ingreso ya esta registrada. Intente de nuevo', 4000);\r\n        this.user.email = ' ';\r\n      }\r\n      else {\r\n        this.addUser();\r\n      }\r\n    },\r\n      (err) => {\r\n        this.failedAccount('ERROR DE SERVIDOR', err.message, 'OK', 'new-account');\r\n      }\r\n    );\r\n  }\r\n\r\n  addUser() {\r\n    this.user.active = true;\r\n    this.user.age = 0;\r\n    this.user.permission = 0;\r\n    this.user.code = ' ';\r\n    this.user.career = ' ';\r\n\r\n    this.userService.postUser(this.user).subscribe(async (res) => {\r\n      if (res.status) {\r\n        this.router.navigate(['/skill-form/' + res.data._id]);\r\n      } else {\r\n        this.failedAccount('¡ERROR AL CREAR!', 'Hubo un problema al intentar crear este usuario', 'OK', 'login');\r\n      }\r\n    }, (err) => {\r\n      this.failedAccount('ERROR DE SERVIDOR', err.message, 'OK', 'new-account');\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}