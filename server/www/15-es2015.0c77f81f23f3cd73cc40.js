(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{HrqC:function(t,n,o){"use strict";o.r(n),o.d(n,"MyQuestionsPageModule",(function(){return h}));var e=o("ofXK"),i=o("3Pt+"),s=o("TEn/"),r=o("tyNb"),c=o("mrSG"),a=o("2hxB"),b=o("J31/"),l=o("fXoL"),u=o("UcdY");function d(t,n){if(1&t){const t=l.Lb();l.Kb(0,"ion-col",13),l.Kb(1,"ion-button",17),l.Sb("click",(function(){l.dc(t);const n=l.Ub().$implicit;return l.Ub().updateQuestion(n._id)})),l.ic(2," EDITAR "),l.Ib(3,"ion-icon",18),l.Jb(),l.Jb()}}function f(t,n){if(1&t){const t=l.Lb();l.Kb(0,"ion-col",13),l.Kb(1,"ion-button",19),l.Sb("click",(function(){l.dc(t);const n=l.Ub().$implicit;return l.Ub().confirmClose(n._id)})),l.ic(2," CERRAR "),l.Ib(3,"ion-icon",20),l.Jb(),l.Jb()}}function g(t,n){if(1&t){const t=l.Lb();l.Kb(0,"ion-card"),l.Kb(1,"ion-card-header",10),l.Kb(2,"ion-card-title"),l.Kb(3,"ion-text",11),l.Kb(4,"strong"),l.ic(5),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(6,"ion-card-content",12),l.ic(7),l.Jb(),l.Kb(8,"ion-footer"),l.Kb(9,"ion-row"),l.Kb(10,"ion-col",13),l.Kb(11,"ion-button",14),l.Sb("click",(function(){l.dc(t);const o=n.$implicit;return l.Ub().viewQuestion(o._id)})),l.ic(12," VER "),l.Ib(13,"ion-icon",15),l.Jb(),l.Jb(),l.gc(14,d,4,0,"ion-col",16),l.gc(15,f,4,0,"ion-col",16),l.Jb(),l.Jb(),l.Jb()}if(2&t){const t=n.$implicit;l.xb(5),l.kc(" ",t.title," "),l.xb(2),l.kc(" ",t.body," "),l.xb(7),l.ac("ngIf",t.open),l.xb(1),l.ac("ngIf",t.open)}}const m=[{path:"",component:(()=>{class t{constructor(t,n,o,e,i){this.questionService=t,this.router=n,this.alertController=o,this.toastController=e,this.loadingController=i,this.user=new a.a,this.myQuestions=new Array}ngOnInit(){}ionViewWillEnter(){this.user=b.a.getStorageUser(),this.getQuestions()}toast(t){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:1500})).present()}))}getQuestions(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Porfavor espere..."});yield t.present(),this.questionService.getQuestionByUserId(this.user._id).subscribe(n=>{this.myQuestions=n.data.reverse(),t.dismiss()},n=>{console.log(n),t.dismiss()})}))}viewQuestion(t){this.router.navigate(["/question-view/"+t])}newQuestion(){this.router.navigate(["/question-form/0"])}updateQuestion(t){this.router.navigate(["/question-form/"+t])}closeQuestion(t){this.questionService.closeQuestion(t).subscribe(t=>{const n=this.myQuestions.findIndex(n=>n._id===t.data._id);this.myQuestions[n].open=!1,this.toast("La pregunta se ha cerrado")},t=>{this.toast("No se pudo cerrar la pregunta, revise su conexi\xf3n")})}confirmClose(t){return Object(c.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({cssClass:"my-custom-class",header:"\xa1CONFIRMAR!",message:"\xbfEsta seguro que desea cerrar esta pregunta? Nadie mas podra contestarla.",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Si",cssClass:"success",handler:()=>{this.closeQuestion(t)}}]});yield n.present()}))}}return t.\u0275fac=function(n){return new(n||t)(l.Hb(u.a),l.Hb(r.f),l.Hb(s.b),l.Hb(s.Z),l.Hb(s.U))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-my-questions"]],decls:21,vars:2,consts:[["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],["lines","full"],["color","success","expand","block","slot","end",3,"click"],["name","add-circle",2,"margin-left","8px","margin-bottom","2px"],["color","medium"],[1,"ion-text-center",2,"margin-top","4px"],[4,"ngFor","ngForOf"],["color","myPrimary",2,"margin-bottom","10px","padding","10px"],["color","myPrimaryText",2,"font-size","16px"],[2,"font-size","16px"],[1,"ion-text-center"],["color","tertiary",3,"click"],["name","eye",2,"padding-left","4px"],["class","ion-text-center",4,"ngIf"],["color","myPrimary",3,"click"],["name","create",2,"padding-left","4px"],["color","danger",3,"click"],["name","close-circle",2,"padding-left","2px"]],template:function(t,n){1&t&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar"),l.Kb(2,"ion-title"),l.ic(3,"Mis preguntas "),l.Jb(),l.Kb(4,"ion-buttons",0),l.Ib(5,"ion-menu-button",1),l.Jb(),l.Kb(6,"ion-buttons",2),l.Ib(7,"ion-back-button",3),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"ion-content"),l.Kb(9,"ion-item",4),l.Kb(10,"ion-button",5),l.Sb("click",(function(){return n.newQuestion()})),l.ic(11," Pregunta "),l.Ib(12,"ion-icon",6),l.Jb(),l.Kb(13,"ion-label"),l.Kb(14,"strong"),l.ic(15," Haz tu pregunta aqui. "),l.Jb(),l.Jb(),l.Jb(),l.Kb(16,"ion-text",7),l.Kb(17,"div",8),l.ic(18),l.Jb(),l.Jb(),l.Kb(19,"ion-list"),l.gc(20,g,16,4,"ion-card",9),l.Jb(),l.Jb()),2&t&&(l.xb(18),l.kc(" ",n.myQuestions.length<1?"Aun no has hecho ninguna pregunta":"Tus preguntas."," "),l.xb(2),l.ac("ngForOf",n.myQuestions))},directives:[s.w,s.R,s.Q,s.i,s.D,s.f,s.g,s.q,s.z,s.h,s.x,s.A,s.N,s.B,e.i,s.j,s.l,s.m,s.k,s.u,s.I,s.p,e.j],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#00796b;--color:#fff}ion-card-title[_ngcontent-%COMP%]{--color:#607d8b;font-family:Arial,Helvetica,sans-serif}ion-card-content[_ngcontent-%COMP%]{color:#000}ion-item[_ngcontent-%COMP%]{--background:#f5f5f5;--color:#000;font-family:Arial,Helvetica,sans-serif}ion-card[_ngcontent-%COMP%]{--background:#fafafa}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(n){return new(n||t)},imports:[[r.i.forChild(m)],r.i]}),t})(),h=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(n){return new(n||t)},imports:[[e.b,i.a,s.S,p]]}),t})()}}]);