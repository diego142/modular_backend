!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{M0TU:function(t,i,o){"use strict";o.r(i),o.d(i,"BranchesPageModule",(function(){return J}));var r=o("ofXK"),c=o("3Pt+"),a=o("TEn/"),s=o("tyNb"),b=o("mrSG"),u=o("2hxB"),l=o("J31/"),f=o("fXoL"),d=o("EQut");function h(n,e){if(1&n){var t=f.Lb();f.Kb(0,"ion-card"),f.Kb(1,"ion-card-header",9),f.Kb(2,"ion-card-title"),f.Kb(3,"ion-text",10),f.Kb(4,"strong"),f.ic(5),f.Jb(),f.Jb(),f.Jb(),f.Jb(),f.Kb(6,"ion-card-content",11),f.ic(7),f.Jb(),f.Kb(8,"ion-footer"),f.Kb(9,"ion-row"),f.Kb(10,"ion-col",12),f.Kb(11,"ion-button",13),f.Sb("click",(function(){f.dc(t);var n=e.$implicit;return f.Ub().editBranch(n._id)})),f.ic(12," EDITAR "),f.Ib(13,"ion-icon",14),f.Jb(),f.Jb(),f.Kb(14,"ion-col",12),f.Kb(15,"ion-button",15),f.Sb("click",(function(){f.dc(t);var n=e.$implicit;return f.Ub().confirmClose(n._id)})),f.ic(16," ELIMINAR "),f.Ib(17,"ion-icon",16),f.Jb(),f.Jb(),f.Jb(),f.Jb(),f.Jb()}if(2&n){var i=e.$implicit;f.xb(5),f.kc(" ",i.name," "),f.xb(2),f.kc(" ",i.description," ")}}var m,p,v,g=[{path:"",component:(m=function(){function t(e,i,o){n(this,t),this.branchService=e,this.alertController=i,this.router=o,this.user=new u.a,this.branchList=new Array}var i,o,r;return i=t,(o=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.user=l.a.getStorageUser(),this.getBranches()}},{key:"getBranches",value:function(){var n=this;this.branchService.getBranches().subscribe((function(e){e.status&&(n.branchList=e.data)}),(function(n){console.log(n)}))}},{key:"deleteBranch",value:function(n){var e=this;this.branchService.deleteBranch(n).subscribe((function(n){if(n.status){var t=e.branchList.findIndex((function(e){return e._id===n.data._id}));e.branchList.splice(t,1)}}),(function(n){console.log(n)}))}},{key:"editBranch",value:function(n){this.router.navigate(["/branch-form/"+n])}},{key:"confirmClose",value:function(n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:"\xa1CONFIRMAR!",message:"\xbfEsta seguro que desea eliminar esta rama, ya no se podra recuperar.",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Si",cssClass:"success",handler:function(){i.deleteBranch(n)}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}}])&&e(i.prototype,o),r&&e(i,r),t}(),m.\u0275fac=function(n){return new(n||m)(f.Hb(d.a),f.Hb(a.b),f.Hb(s.g))},m.\u0275cmp=f.Bb({type:m,selectors:[["app-branches"]],decls:13,vars:1,consts:[["color","headerColor"],["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["size","small","color","success","routerLink","/branch-form/0"],["name","add"],["color","headerColor",2,"margin-bottom","10px","padding","10px"],[2,"font-size","16px"],["color","light",2,"font-size","16px"],[1,"ion-text-center"],["color","myPrimary",3,"click"],["name","create",2,"padding-left","4px"],["color","danger",3,"click"],["name","close-circle",2,"padding-left","2px"]],template:function(n,e){1&n&&(f.Kb(0,"ion-header"),f.Kb(1,"ion-toolbar",0),f.Kb(2,"ion-title"),f.ic(3,"Ramas (Admin) "),f.Jb(),f.Kb(4,"ion-buttons",1),f.Ib(5,"ion-menu-button",2),f.Jb(),f.Kb(6,"ion-buttons",3),f.Ib(7,"ion-back-button",4),f.Jb(),f.Jb(),f.Jb(),f.Kb(8,"ion-content"),f.gc(9,h,18,2,"ion-card",5),f.Kb(10,"ion-fab",6),f.Kb(11,"ion-fab-button",7),f.Ib(12,"ion-icon",8),f.Jb(),f.Jb(),f.Jb()),2&n&&(f.xb(9),f.ac("ngForOf",e.branchList))},directives:[a.w,a.R,a.Q,a.i,a.D,a.f,a.g,a.q,r.i,a.s,a.t,a.V,s.h,a.x,a.j,a.l,a.m,a.N,a.k,a.u,a.I,a.p,a.h],styles:[""]}),m)}],y=((v=function e(){n(this,e)}).\u0275mod=f.Fb({type:v}),v.\u0275inj=f.Eb({factory:function(n){return new(n||v)},imports:[[s.j.forChild(g)],s.j]}),v),J=((p=function e(){n(this,e)}).\u0275mod=f.Fb({type:p}),p.\u0275inj=f.Eb({factory:function(n){return new(n||p)},imports:[[r.b,c.a,a.S,y]]}),p)}}])}();