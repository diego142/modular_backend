!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{HrqC:function(e,o,i){"use strict";i.r(o),i.d(o,"MyQuestionsPageModule",(function(){return J}));var r=i("ofXK"),c=i("3Pt+"),a=i("TEn/"),s=i("tyNb"),u=i("mrSG"),b=i("2hxB"),l=i("J31/"),f=i("fXoL"),d=i("UcdY");function m(n,t){if(1&n){var e=f.Lb();f.Kb(0,"ion-col",13),f.Kb(1,"ion-button",17),f.Sb("click",(function(){f.dc(e);var n=f.Ub().$implicit;return f.Ub().updateQuestion(n._id)})),f.ic(2," EDITAR "),f.Ib(3,"ion-icon",18),f.Jb(),f.Jb()}}function g(n,t){if(1&n){var e=f.Lb();f.Kb(0,"ion-col",13),f.Kb(1,"ion-button",19),f.Sb("click",(function(){f.dc(e);var n=f.Ub().$implicit;return f.Ub().confirmClose(n._id)})),f.ic(2," CERRAR "),f.Ib(3,"ion-icon",20),f.Jb(),f.Jb()}}function p(n,t){if(1&n){var e=f.Lb();f.Kb(0,"ion-card"),f.Kb(1,"ion-card-header",10),f.Kb(2,"ion-card-title"),f.Kb(3,"ion-text",11),f.Kb(4,"strong"),f.ic(5),f.Jb(),f.Jb(),f.Jb(),f.Jb(),f.Kb(6,"ion-card-content",12),f.ic(7),f.Jb(),f.Kb(8,"ion-footer"),f.Kb(9,"ion-row"),f.Kb(10,"ion-col",13),f.Kb(11,"ion-button",14),f.Sb("click",(function(){f.dc(e);var n=t.$implicit;return f.Ub().viewQuestion(n._id)})),f.ic(12," VER "),f.Ib(13,"ion-icon",15),f.Jb(),f.Jb(),f.gc(14,m,4,0,"ion-col",16),f.gc(15,g,4,0,"ion-col",16),f.Jb(),f.Jb(),f.Jb()}if(2&n){var o=t.$implicit;f.xb(5),f.kc(" ",o.title," "),f.xb(2),f.kc(" ",o.body," "),f.xb(7),f.ac("ngIf",o.open),f.xb(1),f.ac("ngIf",o.open)}}var v,h,y,x=[{path:"",component:(v=function(){function e(t,o,i,r){n(this,e),this.questionService=t,this.router=o,this.alertController=i,this.toastController=r,this.user=new b.a,this.myQuestions=new Array}var o,i,r;return o=e,(i=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.user=l.a.getStorageUser(),this.getQuestions()}},{key:"toast",value:function(n){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:n,duration:1500});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getQuestions",value:function(){var n=this;this.questionService.getQuestionByUserId(this.user._id).subscribe((function(t){n.myQuestions=t.data}),(function(n){console.log(n)}))}},{key:"viewQuestion",value:function(n){this.router.navigate(["/question-view/"+n])}},{key:"newQuestion",value:function(){this.router.navigate(["/question-form/0"])}},{key:"updateQuestion",value:function(n){this.router.navigate(["/question-form/"+n])}},{key:"closeQuestion",value:function(n){var t=this;this.questionService.closeQuestion(n).subscribe((function(n){var e=t.myQuestions.findIndex((function(t){return t._id===n.data._id}));t.myQuestions[e].open=!1,t.toast("La pregunta se ha cerrado")}),(function(n){t.toast("No se pudo cerrar la pregunta, revise su conexi\xf3n")}))}},{key:"confirmClose",value:function(n){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:"\xa1CONFIRMAR!",message:"\xbfEsta seguro que desea cerrar esta pregunta? Nadie mas podra contestarla.",buttons:[{text:"No",role:"cancel",cssClass:"secondary"},{text:"Si",cssClass:"success",handler:function(){o.closeQuestion(n)}}]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))}}])&&t(o.prototype,i),r&&t(o,r),e}(),v.\u0275fac=function(n){return new(n||v)(f.Hb(d.a),f.Hb(s.g),f.Hb(a.b),f.Hb(a.Y))},v.\u0275cmp=f.Bb({type:v,selectors:[["app-my-questions"]],decls:21,vars:2,consts:[["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],["lines","full"],["color","success","expand","block","slot","end",3,"click"],["name","add-circle",2,"margin-left","8px","margin-bottom","2px"],["color","medium"],[1,"ion-text-center",2,"margin-top","4px"],[4,"ngFor","ngForOf"],["color","myPrimary",2,"margin-bottom","10px","padding","10px"],["color","myPrimaryText",2,"font-size","16px"],[2,"font-size","16px"],[1,"ion-text-center"],["color","tertiary",3,"click"],["name","eye",2,"padding-left","4px"],["class","ion-text-center",4,"ngIf"],["color","myPrimary",3,"click"],["name","create",2,"padding-left","4px"],["color","danger",3,"click"],["name","close-circle",2,"padding-left","2px"]],template:function(n,t){1&n&&(f.Kb(0,"ion-header"),f.Kb(1,"ion-toolbar"),f.Kb(2,"ion-title"),f.ic(3,"Mis preguntas "),f.Jb(),f.Kb(4,"ion-buttons",0),f.Ib(5,"ion-menu-button",1),f.Jb(),f.Kb(6,"ion-buttons",2),f.Ib(7,"ion-back-button",3),f.Jb(),f.Jb(),f.Jb(),f.Kb(8,"ion-content"),f.Kb(9,"ion-item",4),f.Kb(10,"ion-button",5),f.Sb("click",(function(){return t.newQuestion()})),f.ic(11," Pregunta "),f.Ib(12,"ion-icon",6),f.Jb(),f.Kb(13,"ion-label"),f.Kb(14,"strong"),f.ic(15," Haz tu pregunta aqui. "),f.Jb(),f.Jb(),f.Jb(),f.Kb(16,"ion-text",7),f.Kb(17,"div",8),f.ic(18),f.Jb(),f.Jb(),f.Kb(19,"ion-list"),f.gc(20,p,16,4,"ion-card",9),f.Jb(),f.Jb()),2&n&&(f.xb(18),f.kc(" ",t.myQuestions.length<1?"Aun no has hecho ninguna pregunta":"Tus preguntas."," "),f.xb(2),f.ac("ngForOf",t.myQuestions))},directives:[a.w,a.R,a.Q,a.i,a.D,a.f,a.g,a.q,a.z,a.h,a.x,a.A,a.N,a.B,r.i,a.j,a.l,a.m,a.k,a.u,a.I,a.p,r.j],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#00796b;--color:#fff}ion-card-title[_ngcontent-%COMP%]{--color:#607d8b;font-family:Arial,Helvetica,sans-serif}ion-card-content[_ngcontent-%COMP%]{color:#000}ion-item[_ngcontent-%COMP%]{--background:#f5f5f5;--color:#000;font-family:Arial,Helvetica,sans-serif}ion-card[_ngcontent-%COMP%]{--background:#fafafa}"]}),v)}],k=((y=function t(){n(this,t)}).\u0275mod=f.Fb({type:y}),y.\u0275inj=f.Eb({factory:function(n){return new(n||y)},imports:[[s.j.forChild(x)],s.j]}),y),J=((h=function t(){n(this,t)}).\u0275mod=f.Fb({type:h}),h.\u0275inj=f.Eb({factory:function(n){return new(n||h)},imports:[[r.b,c.a,a.S,k]]}),h)}}])}();