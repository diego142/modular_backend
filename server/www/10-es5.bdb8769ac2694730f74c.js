!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{EF1L:function(t,r,a){"use strict";a.r(r),a.d(r,"BranchFormPageModule",(function(){return O}));var i=a("ofXK"),o=a("3Pt+"),c=a("TEn/"),s=a("tyNb"),u=a("mrSG"),b=a("FMb1"),l=a("fXoL"),h=a("EQut");function f(e,n){if(1&e){var t=l.Lb();l.Kb(0,"ion-button",11),l.Sb("click",(function(){return l.dc(t),l.Ub().createBranch()})),l.ic(1," AGREGAR "),l.Jb()}if(2&e){l.Ub();var r=l.cc(10);l.ac("disabled",!r.valid)}}function d(e,n){if(1&e){var t=l.Lb();l.Kb(0,"ion-button",12),l.Sb("click",(function(){return l.dc(t),l.Ub().updateBranch()})),l.ic(1," ACTUALIZAR "),l.Jb()}}var m,v,p,g=[{path:"",component:(m=function(){function t(n,r,a,i,o){e(this,t),this.activatedRoute=n,this.branchService=r,this.alertController=a,this.router=i,this.loadingController=o,this.branch=new b.a}var r,a,i;return r=t,(a=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.id=this.activatedRoute.snapshot.params.id,this.getBranch(this.id)}},{key:"navigateAlert",value:function(e,n,t,r){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function a(){var i,o=this;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.alertController.create({header:e,subHeader:n,buttons:[{text:t,handler:function(){o.router.navigate(["/"+r+"/"])}}]});case 2:return i=a.sent,a.next=5,i.present();case 5:case"end":return a.stop()}}),a,this)})))}},{key:"getBranch",value:function(e){var n=this;"0"!==e?this.branchService.getBranchById(e).subscribe((function(e){e.status?n.branch=e.data:n.navigateAlert("\xa1ERROR AL OBTENER!","Hubo un problema al intentar obtener la informacion de esta rama","OK","branches")}),(function(e){n.navigateAlert("ERROR DE SERVIDOR",e.message,"OK","branches")})):this.branch=new b.a}},{key:"createBranch",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Porfavor espere..."});case 2:return n=e.sent,e.next=5,n.present();case 5:this.branchService.createBranch(this.branch).subscribe((function(e){return Object(u.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.status?this.navigateAlert("RAMA CREADA!","Creaste una nueva rama","OK","branches"):this.navigateAlert("\xa1ERROR AL CREAR!","Hubo un problema al intentar crear la rama","OK","branches"),t.next=3,n.dismiss();case 3:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(u.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.navigateAlert("ERROR DE SERVIDOR",e.message,"OK","events"),t.next=3,n.dismiss();case 3:case"end":return t.stop()}}),t,this)})))}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"updateBranch",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Porfavor espere..."});case 2:return n=e.sent,e.next=5,n.present();case 5:this.branchService.updateBranch(this.branch).subscribe((function(e){return Object(u.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.status?this.navigateAlert("!RAMA MODIFICADA!","Modificaste esta rama","OK","branches"):this.navigateAlert("\xa1ERROR AL MODIFICAR!","Hubo un problema al modificar esta rama","OK","branch"),t.next=3,n.dismiss();case 3:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(u.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.navigateAlert("ERROR DE SERVIDOR",e.message,"OK","branch"),t.next=3,n.dismiss();case 3:case"end":return t.stop()}}),t,this)})))}));case 6:case"end":return e.stop()}}),e,this)})))}}])&&n(r.prototype,a),i&&n(r,i),t}(),m.\u0275fac=function(e){return new(e||m)(l.Hb(s.a),l.Hb(h.a),l.Hb(c.b),l.Hb(s.f),l.Hb(c.U))},m.\u0275cmp=l.Bb({type:m,selectors:[["app-branch-form"]],decls:24,vars:4,consts:[["color","headerColor"],["slot","start"],["menu","main-menu"],["slot","end"],["defaultHref","events"],["formBranch","ngForm"],["position","floating","color","medium"],["type","text","name","title","minlength","4","required","",3,"ngModel","ngModelChange"],["name","body","minlength","4","required","",3,"ngModel","ngModelChange"],["expand","full","color","myPrimaryDark",3,"disabled","click",4,"ngIf","ngIfElse"],["elseOpt",""],["expand","full","color","myPrimaryDark",3,"disabled","click"],["expand","full","color","myPrimaryDark",3,"click"]],template:function(e,n){if(1&e&&(l.Kb(0,"ion-header"),l.Kb(1,"ion-toolbar",0),l.Kb(2,"ion-title"),l.ic(3," Nueva Rama "),l.Jb(),l.Kb(4,"ion-buttons",1),l.Ib(5,"ion-menu-button",2),l.Jb(),l.Kb(6,"ion-buttons",3),l.Ib(7,"ion-back-button",4),l.Jb(),l.Jb(),l.Jb(),l.Kb(8,"ion-content"),l.Kb(9,"form",null,5),l.Kb(11,"ion-list"),l.Kb(12,"ion-item"),l.Kb(13,"ion-label",6),l.ic(14,"Nombre del rama:"),l.Jb(),l.Kb(15,"ion-input",7),l.Sb("ngModelChange",(function(e){return n.branch.name=e})),l.Jb(),l.Jb(),l.Kb(16,"ion-item"),l.Kb(17,"ion-label",6),l.ic(18,"Descripci\xf3n:"),l.Jb(),l.Kb(19,"ion-textarea",8),l.Sb("ngModelChange",(function(e){return n.branch.description=e})),l.Jb(),l.Jb(),l.Jb(),l.Jb(),l.Kb(20,"section"),l.gc(21,f,2,1,"ion-button",9),l.gc(22,d,2,0,"ng-template",null,10,l.hc),l.Jb(),l.Jb()),2&e){var t=l.cc(23);l.xb(15),l.ac("ngModel",n.branch.name),l.xb(4),l.ac("ngModel",n.branch.description),l.xb(2),l.ac("ngIf","0"==n.id)("ngIfElse",t)}},directives:[c.w,c.R,c.Q,c.i,c.D,c.f,c.g,c.q,o.k,o.f,o.g,c.B,c.z,c.A,c.y,c.Y,o.b,o.j,o.e,o.h,c.O,i.j,c.h],styles:[""]}),m)}],R=((p=function n(){e(this,n)}).\u0275mod=l.Fb({type:p}),p.\u0275inj=l.Eb({factory:function(e){return new(e||p)},imports:[[s.i.forChild(g)],s.i]}),p),O=((v=function n(){e(this,n)}).\u0275mod=l.Fb({type:v}),v.\u0275inj=l.Eb({factory:function(e){return new(e||v)},imports:[[i.b,o.a,c.S,R]]}),v)}}])}();