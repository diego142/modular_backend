{"version":3,"sources":["webpack:///src/app/pages/user/new-account/new-account.page.html","webpack:///src/app/pages/user/new-account/new-account-routing.module.ts","webpack:///src/app/pages/user/new-account/new-account.module.ts","webpack:///src/app/pages/user/new-account/new-account.page.scss","webpack:///src/app/pages/user/new-account/new-account.page.ts"],"names":["routes","path","component","NewAccountPageRoutingModule","imports","forChild","exports","NewAccountPageModule","declarations","NewAccountPage","userService","alertController","router","toastController","user","bandera","head","subHead","btnTex","navigate","create","header","subHeader","buttons","text","handler","alert","present","msg","time","message","color","duration","toast","password","lenght1","length","lenght2","getUser","email","subscribe","res","data","addUser","err","failedAccount","active","age","permission","code","career","postUser","status","_id","selector","template"],"mappings":"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","file":"pages-user-new-account-new-account-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Registrar</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div class=\\\"logotipo\\\">\\r\\n    <img src=\\\"assets/icon/logoV2.png\\\">\\r\\n  </div>\\r\\n\\r\\n  <form #formLogin=\\\"ngForm\\\">\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Nombre: </ion-label>\\r\\n      <ion-input autofocus minlength=\\\"2\\\" [(ngModel)]=\\\"user.name\\\" type=\\\"text\\\" name=\\\"nombre\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Apellidos: </ion-label>\\r\\n      <ion-input type=\\\"text\\\" minlength=\\\"2\\\" [(ngModel)]=\\\"user.lastName\\\" name=\\\"apellido\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Correo electrónico: </ion-label>\\r\\n      <ion-input type=\\\"email\\\" pattern=\\\"[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})\\\" [(ngModel)]=\\\"user.email\\\" name=\\\"email\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Contraseña </ion-label>\\r\\n      <ion-input minlength=\\\"4\\\" type=\\\"password\\\" [(ngModel)]=\\\"user.password\\\" name=\\\"password\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\"> Repita su contraseña </ion-label>\\r\\n      <ion-input type=\\\"password\\\" name=\\\"password2\\\" (keyup)=\\\"verifyPassword($event.target.value)\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n  </form>\\r\\n\\r\\n  <ion-button expand=\\\"full\\\" color=\\\"myPrimary\\\" (click)=\\\"verifyNewUser()\\\" [disabled]=\\\"!(formLogin.valid && (bandera==true))\\\" >Registrar</ion-button>\\r\\n\\r\\n  <div class=\\\"iniciar\\\">\\r\\n    <p>¿Ya tienes una cuenta?</p>\\r\\n    <a routerLink=\\\"/login/\\\">Inicia sesión ahora</a>\\r\\n  </div>\\r\\n\\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NewAccountPage } from './new-account.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NewAccountPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NewAccountPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NewAccountPageRoutingModule } from './new-account-routing.module';\r\n\r\nimport { NewAccountPage } from './new-account.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    NewAccountPageRoutingModule\r\n  ],\r\n  declarations: [NewAccountPage]\r\n})\r\nexport class NewAccountPageModule {}\r\n","export default \"ion-content {\\n  --background: white;\\n}\\n\\nion-title {\\n  --color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\nion-toolbar {\\n  --background: #00796B;\\n}\\n\\nion-item {\\n  --background: #fafafa;\\n  --color: black;\\n  --border-color: black;\\n}\\n\\nion-button {\\n  --background: #009688;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\n.logotipo {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n}\\n\\n.iniciar {\\n  text-align: center;\\n  text-justify: auto;\\n  font-family: Arial, Helvetica, sans-serif;\\n  color: black;\\n  font-size: large;\\n}\\n\\n.button {\\n  margin-top: 20px;\\n  margin-left: 60px;\\n  height: 40px;\\n  width: 70%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdXNlci9uZXctYWNjb3VudC9uZXctYWNjb3VudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtFQUNBLHlDQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtBQUNKOztBQUVBO0VBQ0kscUJBQUE7RUFDQSxjQUFBO0VBQ0EscUJBQUE7QUFDSjs7QUFFQTtFQUNJLHFCQUFBO0VBQ0EseUNBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFDQSxrQkFBQTtFQUNBLHlDQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzZXIvbmV3LWFjY291bnQvbmV3LWFjY291bnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB3aGl0ZTtcclxufVxyXG5cclxuaW9uLXRpdGxlIHtcclxuICAgIC0tY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmlvbi10b29sYmFyIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzAwNzk2QjtcclxufVxyXG5cclxuaW9uLWl0ZW0ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZmFmYWZhO1xyXG4gICAgLS1jb2xvcjogYmxhY2s7XHJcbiAgICAtLWJvcmRlci1jb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbmlvbi1idXR0b24ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjMDA5Njg4O1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5sb2dvdGlwb3tcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLmluaWNpYXJ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB0ZXh0LWp1c3RpZnk6IGF1dG87XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbn1cclxuXHJcbi5idXR0b257XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDYwcHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICB3aWR0aDogNzAlO1xyXG59XHJcbiJdfQ== */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { User } from 'src/app/models/user';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-new-account',\r\n  templateUrl: './new-account.page.html',\r\n  styleUrls: ['./new-account.page.scss'],\r\n})\r\nexport class NewAccountPage implements OnInit {\r\n\r\n  user = new User();\r\n  bandera = false;\r\n\r\n  constructor(private userService: UserService, public alertController: AlertController,\r\n    private router: Router, public toastController: ToastController) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async failedAccount(head: string, subHead: string, btnTex: string, navigate: string) {\r\n    const alert = await this.alertController.create({\r\n      header: head,\r\n      subHeader: subHead,\r\n      buttons: [{\r\n        text: btnTex,\r\n        handler: () => {\r\n          this.router.navigate(['/' + navigate + '/']);\r\n        }\r\n      }]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async toast(head: string, msg: string, time: number) {\r\n    const toast = await this.toastController.create({\r\n      header: head,\r\n      message: msg,\r\n      color: 'primary',\r\n      duration: time,\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  verifyPassword(password) {\r\n    const lenght1 = this.user.password.length;\r\n    const lenght2 = password.length;\r\n\r\n    if (lenght1 === lenght2) {\r\n      if (this.user.password !== password) {\r\n        this.bandera = false;\r\n        this.toast('Error,', 'Las contraseñas no coinciden', 2000);\r\n      }\r\n      else {\r\n        this.bandera = true;\r\n      }\r\n    }\r\n    else {\r\n      this.bandera = false;\r\n    }\r\n  }\r\n\r\n  verifyNewUser() {\r\n    this.userService.getUser(this.user.email).subscribe((res) => {\r\n      if (res.data !== null) {\r\n        this.toast('Error', 'La dirección de correo electrónico que ingreso ya esta registrada. Intente de nuevo', 4000);\r\n        this.user.email = ' ';\r\n      }\r\n      else {\r\n        this.addUser();\r\n      }\r\n    },\r\n      (err) => {\r\n        this.failedAccount('ERROR DE SERVIDOR', err.message, 'OK', 'new-account');\r\n      }\r\n    );\r\n  }\r\n\r\n  addUser() {\r\n    this.user.active = true;\r\n    this.user.age = 0;\r\n    this.user.permission = 0;\r\n    this.user.code = ' ';\r\n    this.user.career = ' ';\r\n\r\n    this.userService.postUser(this.user).subscribe(async (res) => {\r\n      if (res.status) {\r\n        this.router.navigate(['/skill-form/' + res.data._id]);\r\n      } else {\r\n        this.failedAccount('¡ERROR AL CREAR!', 'Hubo un problema al intentar crear este usuario', 'OK', 'login');\r\n      }\r\n    }, (err) => {\r\n      this.failedAccount('ERROR DE SERVIDOR', err.message, 'OK', 'new-account');\r\n    });\r\n  }\r\n\r\n}\r\n"]}