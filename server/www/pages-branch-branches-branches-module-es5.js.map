{"version":3,"sources":["webpack:///src/app/pages/branch/branches/branches.page.html","webpack:///src/app/pages/branch/branches/branches-routing.module.ts","webpack:///src/app/pages/branch/branches/branches.module.ts","webpack:///src/app/pages/branch/branches/branches.page.scss","webpack:///src/app/pages/branch/branches/branches.page.ts"],"names":["routes","path","component","BranchesPageRoutingModule","imports","forChild","exports","BranchesPageModule","declarations","BranchesPage","branchService","alertController","router","user","branchList","Array","getStorageUser","getBranches","subscribe","res","status","data","err","console","log","id","deleteBranch","ind","findIndex","branch","_id","splice","navigate","create","cssClass","header","message","buttons","text","role","handler","alert","present","selector","template"],"mappings":"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","file":"pages-branch-branches-branches-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"headerColor\\\">\\n    <ion-title>Ramas (Admin)\\n\\n    </ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu=\\\"main-menu\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-back-button defaultHref=\\\"events\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card *ngFor=\\\"let branch of branchList\\\">\\n    <ion-card-header color=\\\"headerColor\\\" style=\\\"margin-bottom: 10px; padding: 10px;\\\">\\n      <ion-card-title>\\n        <ion-text style=\\\"font-size: 16px;\\\">\\n          <strong> {{ branch.name }} </strong>\\n        </ion-text>\\n      </ion-card-title>\\n    </ion-card-header>\\n    <ion-card-content color=\\\"light\\\" style=\\\"font-size: 16px;\\\"> {{ branch.description }} </ion-card-content>\\n\\n    <ion-footer>\\n      <ion-row>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <ion-button color=\\\"myPrimary\\\" (click)=\\\"editBranch(branch._id)\\\"> EDITAR\\n            <ion-icon name=\\\"create\\\" style=\\\"padding-left: 4px;\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n        <ion-col class=\\\"ion-text-center\\\">\\n          <ion-button color=\\\"danger\\\" (click)=\\\"confirmClose(branch._id)\\\"> ELIMINAR\\n            <ion-icon name=\\\"close-circle\\\" style=\\\"padding-left: 2px;\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-footer>\\n  </ion-card>\\n\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button size=\\\"small\\\" color=\\\"success\\\" routerLink=\\\"/branch-form/0\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BranchesPage } from './branches.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BranchesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BranchesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BranchesPageRoutingModule } from './branches-routing.module';\n\nimport { BranchesPage } from './branches.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BranchesPageRoutingModule\n  ],\n  declarations: [BranchesPage]\n})\nexport class BranchesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2JyYW5jaC9icmFuY2hlcy9icmFuY2hlcy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Branch } from 'src/app/models/branch';\nimport { User } from 'src/app/models/user';\nimport { Util } from 'src/app/models/util';\nimport { BranchService } from 'src/app/services/branch.service';\n\n@Component({\n  selector: 'app-branches',\n  templateUrl: './branches.page.html',\n  styleUrls: ['./branches.page.scss'],\n})\nexport class BranchesPage implements OnInit {\n\n  user = new User();\n  branchList = new Array<Branch>();\n\n  constructor(private branchService: BranchService,\n              private alertController: AlertController,\n              private router: Router) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.user = Util.getStorageUser();\n    this.getBranches();\n  }\n\n  getBranches() {\n    this.branchService.getBranches().subscribe((res) => {\n      if (res.status) {\n        this.branchList = res.data;\n      }\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n  deleteBranch(id: string) {\n    this.branchService.deleteBranch(id).subscribe((res) => {\n      if (res.status) {\n        const ind  = this.branchList.findIndex(branch => branch._id === res.data._id);\n        this.branchList.splice(ind, 1);\n      }\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n  editBranch(id: string) {\n    this.router.navigate(['/branch-form/' + id]);\n  }\n\n  async confirmClose(id: string) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '¡CONFIRMAR!',\n      message: '¿Esta seguro que desea eliminar esta rama, ya no se podra recuperar.',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n        }, {\n          text: 'Si',\n          cssClass: 'success',\n          handler: () => {\n            this.deleteBranch(id);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n}\n"]}