!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{aCsV:function(t,r,i){"use strict";i.r(r),i.d(r,"NewAccountPageModule",(function(){return v}));var o,a,s,c=i("ofXK"),u=i("3Pt+"),l=i("TEn/"),b=i("tyNb"),d=i("mrSG"),f=i("2hxB"),g=i("fXoL"),p=i("qfBg"),h=[{path:"",component:(o=function(){function t(n,r,i,o){e(this,t),this.userService=n,this.alertController=r,this.router=i,this.toastController=o,this.user=new f.a,this.bandera=!1}var r,i,o;return r=t,(i=[{key:"ngOnInit",value:function(){}},{key:"failedAccount",value:function(e,n,t,r){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,a=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({header:e,subHeader:n,buttons:[{text:t,handler:function(){a.router.navigate(["/"+r+"/"])}}]});case 2:return o=i.sent,i.next=5,o.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"toast",value:function(e,n,t){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.toastController.create({header:e,message:n,color:"primary",duration:t});case 2:r.sent.present();case 3:case"end":return r.stop()}}),r,this)})))}},{key:"verifyPassword",value:function(e){this.user.password.length===e.length?this.user.password!==e?(this.bandera=!1,this.toast("Error,","Las contrase\xf1as no coinciden",2e3)):this.bandera=!0:this.bandera=!1}},{key:"verifyNewUser",value:function(){var e=this;this.userService.getUser(this.user.email).subscribe((function(n){null!==n.data?(e.toast("Error","La direcci\xf3n de correo electr\xf3nico que ingreso ya esta registrada. Intente de nuevo",4e3),e.user.email=" "):e.addUser()}),(function(n){e.failedAccount("ERROR DE SERVIDOR",n.message,"OK","new-account")}))}},{key:"addUser",value:function(){var e=this;this.user.active=!0,this.user.age=0,this.user.permission=0,this.user.code=" ",this.user.career=" ",this.userService.postUser(this.user).subscribe((function(n){return Object(d.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.status?this.router.navigate(["/skill-form/"+n.data._id]):this.failedAccount("\xa1ERROR AL CREAR!","Hubo un problema al intentar crear este usuario","OK","login");case 1:case"end":return e.stop()}}),e,this)})))}),(function(n){e.failedAccount("ERROR DE SERVIDOR",n.message,"OK","new-account")}))}}])&&n(r.prototype,i),o&&n(r,o),t}(),o.\u0275fac=function(e){return new(e||o)(g.Hb(p.a),g.Hb(l.b),g.Hb(b.g),g.Hb(l.Y))},o.\u0275cmp=g.Bb({type:o,selectors:[["app-new-account"]],decls:36,vars:5,consts:[[1,"logotipo"],["src","assets/icon/logoV2.png"],["formLogin","ngForm"],["position","floating"],["autofocus","","minlength","2","type","text","name","nombre","required","",3,"ngModel","ngModelChange"],["type","text","minlength","2","name","apellido","required","",3,"ngModel","ngModelChange"],["type","email","pattern","[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})","name","email","required","",3,"ngModel","ngModelChange"],["minlength","4","type","password","name","password","required","",3,"ngModel","ngModelChange"],["type","password","name","password2","required","",3,"keyup"],["expand","full","color","myPrimary",3,"disabled","click"],[1,"iniciar"],["routerLink","/login/"]],template:function(e,n){if(1&e&&(g.Kb(0,"ion-header"),g.Kb(1,"ion-toolbar"),g.Kb(2,"ion-title"),g.ic(3,"Registrar"),g.Jb(),g.Jb(),g.Jb(),g.Kb(4,"ion-content"),g.Kb(5,"div",0),g.Ib(6,"img",1),g.Jb(),g.Kb(7,"form",null,2),g.Kb(9,"ion-item"),g.Kb(10,"ion-label",3),g.ic(11," Nombre: "),g.Jb(),g.Kb(12,"ion-input",4),g.Sb("ngModelChange",(function(e){return n.user.name=e})),g.Jb(),g.Jb(),g.Kb(13,"ion-item"),g.Kb(14,"ion-label",3),g.ic(15," Apellidos: "),g.Jb(),g.Kb(16,"ion-input",5),g.Sb("ngModelChange",(function(e){return n.user.lastName=e})),g.Jb(),g.Jb(),g.Kb(17,"ion-item"),g.Kb(18,"ion-label",3),g.ic(19," Correo electr\xf3nico: "),g.Jb(),g.Kb(20,"ion-input",6),g.Sb("ngModelChange",(function(e){return n.user.email=e})),g.Jb(),g.Jb(),g.Kb(21,"ion-item"),g.Kb(22,"ion-label",3),g.ic(23," Contrase\xf1a "),g.Jb(),g.Kb(24,"ion-input",7),g.Sb("ngModelChange",(function(e){return n.user.password=e})),g.Jb(),g.Jb(),g.Kb(25,"ion-item"),g.Kb(26,"ion-label",3),g.ic(27," Repita su contrase\xf1a "),g.Jb(),g.Kb(28,"ion-input",8),g.Sb("keyup",(function(e){return n.verifyPassword(e.target.value)})),g.Jb(),g.Jb(),g.Jb(),g.Kb(29,"ion-button",9),g.Sb("click",(function(){return n.verifyNewUser()})),g.ic(30,"Registrar"),g.Jb(),g.Kb(31,"div",10),g.Kb(32,"p"),g.ic(33,"\xbfYa tienes una cuenta?"),g.Jb(),g.Kb(34,"a",11),g.ic(35,"Inicia sesi\xf3n ahora"),g.Jb(),g.Jb(),g.Jb()),2&e){var t=g.cc(8);g.xb(12),g.ac("ngModel",n.user.name),g.xb(4),g.ac("ngModel",n.user.lastName),g.xb(4),g.ac("ngModel",n.user.email),g.xb(4),g.ac("ngModel",n.user.password),g.xb(5),g.ac("disabled",!(t.valid&&1==n.bandera))}},directives:[l.w,l.R,l.Q,l.q,u.k,u.f,u.g,l.z,l.A,l.y,l.X,u.b,u.j,u.e,u.h,u.i,l.h,b.i,l.V],styles:["ion-content[_ngcontent-%COMP%]{--background:#fff}ion-title[_ngcontent-%COMP%]{--color:#fff;font-family:Arial,Helvetica,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background:#00796b}ion-item[_ngcontent-%COMP%]{--background:#fafafa;--color:#000;--border-color:#000}ion-button[_ngcontent-%COMP%]{--background:#009688;font-family:Arial,Helvetica,sans-serif}.logotipo[_ngcontent-%COMP%]{display:block;margin:10px auto}.iniciar[_ngcontent-%COMP%]{text-align:center;text-justify:auto;font-family:Arial,Helvetica,sans-serif;color:#000;font-size:large}.button[_ngcontent-%COMP%]{margin-top:20px;margin-left:60px;height:40px;width:70%}"]}),o)}],m=((s=function n(){e(this,n)}).\u0275mod=g.Fb({type:s}),s.\u0275inj=g.Eb({factory:function(e){return new(e||s)},imports:[[b.j.forChild(h)],b.j]}),s),v=((a=function n(){e(this,n)}).\u0275mod=g.Fb({type:a}),a.\u0275inj=g.Eb({factory:function(e){return new(e||a)},imports:[[c.b,u.a,l.S,m]]}),a)}}])}();